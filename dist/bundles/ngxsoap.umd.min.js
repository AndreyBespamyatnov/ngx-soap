!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/http"),require("rxjs/add/operator/map"),require("lodash"),require("sax"),require("url"),require("assert"),require("uuid")):"function"==typeof define&&define.amd?define(["exports","@angular/core","@angular/http","rxjs/add/operator/map","lodash","sax","url","assert","uuid"],t):t((e.ng=e.ng||{},e.ng.ngxsoap=e.ng.ngxsoap||{}),e.ng.core,e.ng.http,e.Rx.Observable,e._,e.sax,e.url,e.assert,e.uuid)}(this,function(e,t,i,n,s,o,r,a,p){"use strict";function c(e,t){for(var i in e)if(i!==g&&e[i]===t)return i}function u(e){return e&&":"!==e.charAt(e.length-1)?e+":":e}function l(e){return e&&":"===e.charAt(e.length-1)?e.substring(0,e.length-1):e}function h(e){var t=e.indexOf(":");return t<0?{prefix:g,name:e}:{prefix:e.substring(0,t),name:e.substring(t+1)}}function d(e){return"string"==typeof e?"<![CDATA["===e.substr(0,9)&&"]]>"===e.substr(-3)?e:e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"):e}function f(e){return e.replace(S,"").replace(j,"")}function m(e,t){return s.merge(e||{},t,function(e,t){return s.isArray(e)?e.concat(t):void 0})}function y(e,t,i){return void 0===i&&(i={}),new Promise(function(n,s){i.wsdl_headers,i.wsdl_options;t.get(e).subscribe(function(o){var r=o.text();r||s("No wsdl found at url "+e);try{var a=new A(t,r,e,i);n(a.build())}catch(e){s(e)}})})}function v(e,t,i,n){return void 0===i&&(i={}),new Promise(function(s,o){n=i.endpoint||n,y(e,t,i).then(function(e){s(new Z(e))}).catch(function(e){return o(e)})})}var g="__tns__",x=function(){function e(t){if(this.namespaces={},!(this instanceof e))return new e(t);this.parent=t,this.namespaces={}}return e.prototype.getNamespaceURI=function(e,t){switch(e){case"xml":return"http://www.w3.org/XML/1998/namespace";case"xmlns":return"http://www.w3.org/2000/xmlns/";default:var i=this.namespaces[e];return null!=i?i.uri:!t&&this.parent?this.parent.getNamespaceURI(e):null}},e.prototype.getNamespaceMapping=function(e){switch(e){case"xml":return{uri:"http://www.w3.org/XML/1998/namespace",prefix:"xml",declared:!0};case"xmlns":return{uri:"http://www.w3.org/2000/xmlns/",prefix:"xmlns",declared:!0};default:var t=this.namespaces[e];return null!=t?t:this.parent?this.parent.getNamespaceMapping(e):null}},e.prototype.getPrefix=function(e,t){switch(e){case"http://www.w3.org/XML/1998/namespace":return"xml";case"http://www.w3.org/2000/xmlns/":return"xmlns";default:for(var i in this.namespaces)if(this.namespaces[i].uri===e)return i;return!t&&this.parent?this.parent.getPrefix(e):null}},e}(),b=function(){function e(){this.registerNamespace=function(e){var t=this.getPrefix(e);if(t)return t;for(;;)if(t="ns"+ ++this.prefixCount,!this.getNamespaceURI(t))break;return this.addNamespace(t,e,!0),t},this.scopes=[],this.pushContext(),this.prefixCount=0}return e.prototype.addNamespace=function(e,t,i){return this.getNamespaceURI(e,i)!==t&&(!!this.currentScope&&(this.currentScope.namespaces[e]={uri:t,prefix:e,declared:!1},!0))},e.prototype.pushContext=function(){var e=new x(this.currentScope);return this.scopes.push(e),this.currentScope=e,e},e.prototype.popContext=function(){var e=this.scopes.pop();return this.currentScope=e?e.parent:null,e},e.prototype.getNamespaceURI=function(e,t){return this.currentScope&&this.currentScope.getNamespaceURI(e,t)},e.prototype.getPrefix=function(e,t){return this.currentScope&&this.currentScope.getPrefix(e,t)},e.prototype.declareNamespace=function(e,t){if(this.currentScope){var i=this.currentScope.getNamespaceMapping(e);return(!i||i.uri!==t||!i.declared)&&(this.currentScope.namespaces[e]={uri:t,prefix:e,declared:!0},!0)}return!1},e}(),$=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),w=function(e){return 65279===e.charCodeAt(0)?e.slice(1):e},N={string:1,boolean:1,decimal:1,float:1,double:1,anyType:1,byte:1,int:1,long:1,short:1,negativeInteger:1,nonNegativeInteger:1,positiveInteger:1,nonPositiveInteger:1,unsignedByte:1,unsignedInt:1,unsignedLong:1,unsignedShort:1,duration:0,dateTime:0,time:0,date:0,gYearMonth:0,gYear:0,gMonthDay:0,gDay:0,gMonth:0,hexBinary:0,base64Binary:0,anyURI:0,QName:0,NOTATION:0},S=/^[\s\xA0]+/,j=/[\s\xA0]+$/,A=function(){function e(e,t,i,n){this.options={},this.ignoredNamespaces=["tns","targetNamespace","typedNamespace"],this.ignoreBaseNameSpaces=!1,this.valueKey="$value",this.xmlKey="$xml",this.describeServices=function(){var e={};for(var t in this.services){var i=this.services[t];e[t]=i.description(this.definitions)}return e},this.findSchemaObject=function(e,t){if(!e||!t)return null;var i=null;if(this.definitions.schemas){var n=this.definitions.schemas[e];n&&(-1!==t.indexOf(":")&&(t=t.substring(t.indexOf(":")+1,t.length)),i=n.complexTypes[t]||n.types[t]||n.elements[t])}return i},this.definition=t,this.uri=i,this._includesWsdl=[],this.http=e,this._initializeOptions(n)}return e.prototype.build=function(){var e=this;return this._fromXML(w(this.definition)).then(function(){return e.processIncludes()}).then(function(t){var i;e.definitions=t,e.definitions.deleteFixedAttrs();var n=e.services=e.definitions.services;if(n)for(i in n)n[i].postProcess(e.definitions);var s=e.definitions.complexTypes;if(s)for(i in s)s[i].deleteFixedAttrs();var o=e.definitions.bindings;for(var r in o){var a=o[r];if(void 0===a.style&&(a.style="document"),"document"===a.style){var p=a.methods,c=a.topElements={};for(var u in p)if(p[u].input){var l=p[u].input.$name,h="";p[u].output&&(h=p[u].output.$name),c[l]={methodName:u,outputName:h}}}}return e}).catch(function(e){return console.log("Build error",e)})},e.prototype.processIncludes=function(){var e=this.definitions.schemas,t=[];for(var i in e){var n=e[i];t=t.concat(n.includes||[])}return this._processNextInclude(t)},e.prototype.toXML=function(){return this.xml||""},e.prototype.objectToXML=function(e,t,i,n,s,o,r,a){void 0===s&&(s={}),void 0===o&&(o={});var p=this,c=this.definitions.schemas[n],f=i?i.parent:void 0;void 0!==f&&(i=i.current),f=l(f),this.isIgnoredNameSpace(f)&&(f="");var m=!c,y=c&&"qualified"===c.$elementFormDefault,v=[],x=(i||y)&&i!==g,$="";n&&s&&(p.options.overrideRootElement&&p.options.overrideRootElement.xmlnsAttributes?p.options.overrideRootElement.xmlnsAttributes.forEach(function(e){$+=" "+e.name+'="'+e.value+'"'}):(x&&!this.isIgnoredNameSpace(i)&&($+=" xmlns:"+i+'="'+n+'"'),(y||m)&&($+=' xmlns="'+n+'"'))),a?(console.log("nscontext",a),a.pushContext()):((a=new b).declareNamespace(i,n),console.log("nscontext created",a)),!o||p.options.overrideRootElement&&p.options.overrideRootElement.xmlnsAttributes||($=o);var w="";p.options.overrideRootElement&&s?w=p.options.overrideRootElement.namespace:x&&(y||s||m)&&!this.isIgnoredNameSpace(i)&&(w=i);var N,S;if(Array.isArray(e))for(N=0,S=e.length;N<S;N++){var j=e[N],A=p.processAttributes(j,a),_=f||w;v.push(["<",u(_),t,A,$,">"].join("")),v.push(p.objectToXML(j,t,i,n,!1,null,r,a)),v.push(["</",u(_),t,">"].join(""))}else if("object"==typeof e){for(t in e)if(e.hasOwnProperty(t)&&t!==p.options.attributesKey){if(t===p.options.xmlKey)return a.popContext(),e[t];if(t===p.options.valueKey)return a.popContext(),d(e[t]);var O=e[t];if(void 0!==O){var T=p.processAttributes(O,a),P="",C="",H=!1,M=/^([^:]+):([^:]+)$/.exec(t);if(M?(C=M[1]+":",t=M[2]):":"===t[0]&&(H=!0,t=t.substr(1)),s)P=p.objectToXML(O,t,i,n,!1,null,r,a);else if(p.definitions.schemas)if(c){var L=p.findChildSchemaObject(r,t);if(L&&(L.$type&&-1===L.$type.indexOf("xsd:")||L.$ref||L.$name)){var K,E="",F="",I="",R=L.$ref||L.$name;if(R){F=(R=h(R)).name,R.prefix===g?(K=L.$targetNamespace,E=a.registerNamespace(K),this.isIgnoredNameSpace(E)&&(E=i)):(E=R.prefix,this.isIgnoredNameSpace(E)&&(E=i),K=c.xmlns[E]||p.definitions.xmlns[E]);var k=!1;L.$name&&void 0===L.targetNamespace&&(k="unqualified"===L.$form||"qualified"!==L.$form&&"qualified"!==c.$elementFormDefault),k&&(E=""),K&&E&&a.declareNamespace(E,K)&&($+=I=" xmlns:"+E+'="'+K+'"')}var X;if(L.$type){var B=h(L.$type),q=B.prefix,D=c.xmlns[q]||p.definitions.xmlns[q];K=D,"http://www.w3.org/2001/XMLSchema"!==D&&q!==g&&a.addNamespace(q,D),X=p.findSchemaType(B.name,D)||L}else X=p.findSchemaObject(K,F)||L;L.$baseNameSpace&&this.options.ignoreBaseNameSpaces&&(E=i,K=n),this.options.ignoreBaseNameSpaces&&(E="",K=""),w=E,Array.isArray(O)?E={current:E,parent:w}:I=null,P=p.objectToXML(O,t,E,K,!1,I,X,a)}else if(e[p.options.attributesKey]&&e[p.options.attributesKey].xsi_type){p.findChildSchemaObject(e[p.options.attributesKey].xsi_type.type,e[p.options.attributesKey].xsi_type.xmlns);C=e[p.options.attributesKey].xsi_type.prefix,a.addNamespace(e[p.options.attributesKey].xsi_type.prefix,e[p.options.attributesKey].xsi_type.xmlns),P=p.objectToXML(O,t,e[p.options.attributesKey].xsi_type.prefix,e[p.options.attributesKey].xsi_type.xmlns,!1,null,null,a)}else Array.isArray(O)&&(t=C+t),P=p.objectToXML(O,t,i,n,!1,null,null,a)}else P=p.objectToXML(O,t,i,n,!1,null,null,a);w=l(w),x&&!y&&s&&!p.options.overrideRootElement?w=i:this.isIgnoredNameSpace(w)&&(w=""),Array.isArray(O)||v.push(["<",H?"":u(C||w),t,T,$,null===O?' xsi:nil="true"':"",">"].join("")),v.push(P),Array.isArray(O)||v.push(["</",H?"":u(C||w),t,">"].join(""))}}}else void 0!==e&&v.push(p.options.escapeXML?d(e):e);return a.popContext(),v.join("")},e.prototype.objectToRpcXML=function(e,t,i,n,s){var o=[],r=this.definitions;i=i||c(r.xmlns,n),n=n||r.xmlns[i],i=i===g?"":i+":",o.push(["<",i,e,">"].join(""));for(var a in t)if(t.hasOwnProperty(a)&&"_xmlns"!==a){var p=t[a],u=(s?"":i)+a;o.push(["<",u,">"].join("")),o.push("object"==typeof p?this.objectToXML(p,a,i,n):d(p)),o.push(["</",u,">"].join(""))}return o.push(["</",i,e,">"].join("")),o.join("")},e.prototype.objectToDocumentXML=function(e,t,i,n,s){var o={};o[e]=t;var r=s?this.findSchemaObject(n,s):null;return this.objectToXML(o,null,i,n,!0,null,r)},e.prototype.isIgnoredNameSpace=function(e){return this.options.ignoredNamespaces.indexOf(e)>-1},e.prototype.filterOutIgnoredNameSpace=function(e){var t=l(e);return this.isIgnoredNameSpace(t)?"":t},e.prototype.processAttributes=function(e,t){var i="";null===e&&(e=[]);var n=e[this.options.attributesKey];if(n&&n.xsi_type){var s=n.xsi_type,o=s.prefix||s.namespace;o?t.declareNamespace(o,s.xmlns):o=t.registerNamespace(s.xmlns),s.prefix=o}if(n)for(var r in n)if("xsi_type"!==r)i+=" "+r+'="'+d(n[r])+'"';else{var a=n[r];i+=' xsi:type="'+a.prefix+":"+a.type+'"',i+=" xmlns:"+a.prefix+'="'+a.xmlns+'"'}return i},e.prototype.findSchemaType=function(e,t){if(!this.definitions.schemas||!e||!t)return null;var i=this.definitions.schemas[t];return i&&i.complexTypes?i.complexTypes[e]:null},e.prototype.findChildSchemaObject=function(e,t,i){if(void 0===i&&(i={}),!e||!t)return null;if(i||(i=[]),i.indexOf(e)>=0)return null;i=i.concat([e]);var n,s=null,o=0;if(Array.isArray(e.$lookupTypes)&&e.$lookupTypes.length){var r=e.$lookupTypes;for(o=0;o<r.length;o++){var a=r[o];if(a.$name===t){s=a;break}}}var p=e;if(p.$name===t&&"element"===p.name)return p;if(p.$ref&&h(p.$ref).name===t)return p;var c;if(p.$type){var u=h(p.$type);c=u.prefix===g?e.$targetNamespace:this.definitions.xmlns[u.prefix];var l=this.findSchemaType(u.name,c);if(l)return this.findChildSchemaObject(l,t,i)}if(p.children)for(o=0,n;(n=p.children[o])&&!(s=this.findChildSchemaObject(n,t,i));o++)if(n.$base){var d=h(n.$base),f=d.prefix===g?"":d.prefix;c=this.definitions.xmlns[d.prefix];var m=this.findSchemaType(d.name,c);if(m&&(s=this.findChildSchemaObject(m,t,i))){s.$baseNameSpace=f,s.$type=f+":"+t;break}}return s||p.$name!==t?s:p},e.prototype.xmlToObject=function(e,t){function i(){for(var e in d)for(var t=d[e],i=0;i<t.hrefs.length;i++)s.assign(t.hrefs[i].obj,t.obj);if(c.Envelope){var n=c.Envelope.Body;if(n&&n.Fault){var o=n.Fault&&n.Fault.faultcode&&n.Fault.faultcode.$value?n.Fault.faultcode.$value:n.Fault&&n.Fault.faultcode,r=n.Fault&&n.Fault.faultstring&&n.Fault.faultstring.$value?n.Fault.faultstring.$value:n.Fault&&n.Fault.faultstring,a=n.Fault&&n.Fault.detail&&n.Fault.detail.$value?n.Fault.detail.$value:n.Fault&&n.Fault.detail&&n.Fault.detail.message,p=new Error(o+": "+r+(a?": "+a:""));throw p.root=c,p}return c.Envelope}return c}var n,r=this,a=o.parser(!0,{}),p=null,c={},u=[{name:null,object:c,schema:{Envelope:{Header:{Security:{UsernameToken:{Username:"string",Password:"string"}}},Body:{Fault:{faultcode:"string",faultstring:"string",detail:"string"}}}}}],l={},d={};if(a.onopentag=function(e){var t,i=e.name,s=e.attributes,o=h(i).name,a=u[u.length-1],c=a.schema,f={},m=!1,y=!1,v={},x=o;if(!p&&"Body"===a.name&&"Fault"!==o){var b=r.definitions.messages[o];if(!b){var $=!1;/Response$/.test(o)?(!0,o=o.replace(/Response$/,"")):/Request$/.test(o)?($=!0,o=o.replace(/Request$/,"")):/Solicit$/.test(o)&&($=!0,o=o.replace(/Solicit$/,""));var w=r.definitions.portTypes,N=w[Object.keys(w)[0]];o=$?N.methods[o].input.$name:N.methods[o].output.$name,b=r.definitions.messages[o],r.definitions.messages[x]=r.definitions.messages[o]}c=b.description(r.definitions),p=x}s.href&&(n=s.href.substr(1),d[n]||(d[n]={hrefs:[],obj:null}),d[n].hrefs.push({par:a.object,key:o,obj:v})),(n=s.id)&&(d[n]||(d[n]={hrefs:[],obj:null}));for(t in s)/^xmlns:|^xmlns$/.test(t)?l[h(t).name]=s[t]:(m=!0,f[t]=s[t]);for(t in f){var S=h(t);if("nil"===S.name&&"http://www.w3.org/2001/XMLSchema-instance"===l[S.prefix]){y=!0;break}}m&&(v[r.options.attributesKey]=f);var j,A=f["xsi:type"];if(A){var _,O=h(A);_=O.prefix===g?l[O.prefix]||l.xmlns:l[O.prefix];var T=r.findSchemaObject(_,O.name);T&&(j=T.description(r.definitions))}c&&c[o+"[]"]&&(o+="[]"),u.push({name:x,object:v,schema:j||c&&c[o],id:s.id,nil:y})},a.onclosetag=function(e){var t=u.pop(),i=t.object,n=u[u.length-1],o=n.object,r=n.schema,a=h(e).name;"string"!=typeof t.schema||"string"!==t.schema&&"string"!==t.schema.split(":")[1]||"object"==typeof i&&0===Object.keys(i).length&&(i=t.object=""),!0!==t.nil&&(s.isPlainObject(i)&&!Object.keys(i).length&&(i=null),r&&r[a+"[]"]?(o[a]||(o[a]=[]),o[a].push(i)):a in o?(Array.isArray(o[a])||(o[a]=[o[a]]),o[a].push(i)):o[a]=i,t.id&&(d[t.id].obj=i))},a.oncdata=function(e){if((e=f(e)).length)if(/<\?xml[\s\S]+\?>/.test(e)){var t=u[u.length-1],i=r.xmlToObject(e);t.object[r.options.attributesKey]?t.object[r.options.valueKey]=i:t.object=i}else a.ontext(e)},a.onerror=function(e){throw a.resume(),{Fault:{faultcode:500,faultstring:"Invalid XML",detail:new Error(e.message).message,statusCode:500}}},a.ontext=function(e){if((e=f(e)).length){var t,i=u[u.length-1],n=h(i.schema).name;t=r.options&&r.options.customDeserializer&&r.options.customDeserializer[n]?r.options.customDeserializer[n](e,i):"int"===n||"integer"===n?parseInt(e,10):"bool"===n||"boolean"===n?"true"===e.toLowerCase()||"1"===e:"dateTime"===n||"date"===n?new Date(e):"string"!=typeof i.object?e:i.object+e,i.object[r.options.attributesKey]?i.object[r.options.valueKey]=t:i.object=t}},"function"==typeof t){var m=o.createStream(!0,{});return m.on("opentag",a.onopentag),m.on("closetag",a.onclosetag),m.on("cdata",a.oncdata),m.on("text",a.ontext),void e.pipe(m).on("error",function(e){t(e)}).on("end",function(){var e;try{e=i()}catch(e){return t(e)}t(null,e)})}return a.write(e).close(),i()},e.prototype._processNextInclude=function(e){var t=this;return new Promise(function(i,n){var o,a=e.shift();a||i(t.definitions);var p=r.resolve(t.uri||"",a.location);return o=s.assign({},t.options),o.ignoredNamespaces=t._originalIgnoredNamespaces||t.options.ignoredNamespaces,y(p,o).then(function(i){return t._includesWsdl.push(i),i.definitions instanceof Q?s.merge(t.definitions,i.definitions,function(e,t){return e instanceof T?e.merge(t):void 0}):t.definitions.schemas[a.namespace||i.definitions.$targetNamespace]=m(t.definitions.schemas[a.namespace||i.definitions.$targetNamespace],i.definitions),t._processNextInclude(e)}).catch(function(e){return n(e)})})},e.prototype._initializeOptions=function(e){this._originalIgnoredNamespaces=(e||{}).ignoredNamespaces,this.options={};var t=e?e.ignoredNamespaces:null;t&&(Array.isArray(t.namespaces)||"string"==typeof t.namespaces)?t.override?this.options.ignoredNamespaces=t.namespaces:this.options.ignoredNamespaces=this.ignoredNamespaces.concat(t.namespaces):this.options.ignoredNamespaces=this.ignoredNamespaces,this.options.valueKey=e.valueKey||this.valueKey,this.options.xmlKey=e.xmlKey||this.xmlKey,void 0!==e.escapeXML?this.options.escapeXML=e.escapeXML:this.options.escapeXML=!0,this.options.wsdl_headers=e.wsdl_headers,this.options.wsdl_options=e.wsdl_options,e.httpClient&&(this.options.httpClient=e.httpClient);var i=e?e.ignoreBaseNameSpaces:null;this.options.ignoreBaseNameSpaces=null!==i&&void 0!==i?i:this.ignoreBaseNameSpaces,this.options.forceSoap12Headers=e.forceSoap12Headers,this.options.customDeserializer=e.customDeserializer,void 0!==e.overrideRootElement&&(this.options.overrideRootElement=e.overrideRootElement)},e.prototype._fromXML=function(e){var t=this;return new Promise(function(i,n){t.definitions=t._parse(e),t.definitions.descriptions={types:{}},t.xml=e,i(t.definitions)})},e.prototype._parse=function(e){var t=this,i=o.parser(!0,{}),n=[],s=null,r=null,a=null,p=t.options;return i.onopentag=function(e){var i,o=e.name,c=e.attributes,u=n[n.length-1];if(u)try{n=u.startElement(n,o,c,p)}catch(e){if(t.options.strict)throw e;n.push(new _(o,c,p))}else if("definitions"===(i=h(o).name))s=new Q(o,c,p),n.push(s);else{if("schema"!==i)throw new Error("Unexpected root element of WSDL or include");s=new Q("definitions",{},{}),r=new P("types",{},{}),a=new T(o,c,p),r.addChild(a),s.addChild(r),n.push(a)}},i.onclosetag=function(e){var t=n[n.length-1];n=t.endElement(n,e)},i.write(e).close(),s},e}(),_=function(){function e(e,t,i){void 0===t&&(t={}),void 0===i&&(i={}),this.children=[],this.allowedChildren={},this.includes=[],this.methods={},this.ports={};var n=h(e);this.nsName=e,this.prefix=n.prefix,this.name=n.name,this.children=[],this.xmlns={},this._initializeOptions(i);for(var s in t){var o=/^xmlns:?(.*)$/.exec(s);o?this.xmlns[o[1]?o[1]:g]=t[s]:"value"===s?this[this.valueKey]=t[s]:this["$"+s]=t[s]}void 0!==this.$targetNamespace&&(this.xmlns[g]=this.$targetNamespace)}return e.prototype._initializeOptions=function(e){e?(this.valueKey=e.valueKey||"$value",this.xmlKey=e.xmlKey||"$xml",this.ignoredNamespaces=e.ignoredNamespaces||[]):(this.valueKey="$value",this.xmlKey="$xml",this.ignoredNamespaces=[])},e.prototype.deleteFixedAttrs=function(){this.children&&0===this.children.length&&delete this.children,this.xmlns&&0===Object.keys(this.xmlns).length&&delete this.xmlns,delete this.nsName,delete this.prefix,delete this.name},e.prototype.startElement=function(e,t,i,n){var s=V[h(t).name][0];return s&&e.push(new s(t,i,n)),e},e.prototype.unexpected=function(e){throw new Error("Found unexpected element ("+e+") inside "+this.nsName)},e.prototype.endElement=function(e,t){if(this.nsName===t){if(e.length<2)return;var i=e[e.length-2];this!==e[0]&&(s.defaultsDeep(e[0].xmlns,this.xmlns),i.children.push(this),i.addChild(this)),e.pop()}return e},e.prototype.addChild=function(e){},e.prototype.description=function(e,t){return void 0===e&&(e={}),this.$name||this.name},e.prototype.init=function(){},e}(),O=function(e){function t(t,i,n){void 0===i&&(i={}),void 0===n&&(n={});var s=e.call(this,t,i,n)||this;return s.init(),s}return $(t,e),t.prototype.init=function(){this.element=null,this.parts=null},t.prototype.description=function(e,t){if(void 0===e&&(e={}),this.element)return this.element&&this.element.description(e);var i={};return i[this.$name]=this.parts,i},t.prototype.postProcess=function(e){var t,i,n,s,o,r=null,a=this.children||[];for(s in a)if("part"===(t=a[s]).name){r=t;break}if(r){if(r.$element){var p,c=[];delete this.parts,i=(n=h(r.$element)).prefix;var u=e.schemas[e.xmlns[i]];if(this.element=u.elements[n.name],!this.element)return;if(this.element.targetNSAlias=i,this.element.targetNamespace=e.xmlns[i],this.element.$lookupType=r.$element,(p=this.element.children).length>0)for(s=0;s<p.length;s++)c.push(this._getNestedLookupTypeString(p[s]));if(c.length>0){c=c.join("_").split("_").filter(function(e){return"^"!==e});var l=e.schemas[this.element.targetNamespace].xmlns;for(s=0;s<c.length;s++)c[s]=this._createLookupTypeObject(c[s],l)}if(this.element.$lookupTypes=c,this.element.$type){o=h(this.element.$type);var d=u.xmlns&&u.xmlns[o.prefix]||e.xmlns[o.prefix];if(d)if(o.name in N);else{var f=(u=e.schemas[d]).complexTypes[o.name]||u.types[o.name]||u.elements[o.name];f&&(this.parts=f.description(e,u.xmlns))}}else{var m=this.element.description(e,u.xmlns);this.parts=m[n.name]}this.children.splice(0,1)}else for(this.parts={},delete this.element,s=0;r=this.children[s];s++)if("documentation"!==r.name){n=h(r.$type),i=e.xmlns[n.prefix],o=n.name;var y=e.schemas[i];this.parts[r.$name]=void 0!==y?e.schemas[i].types[o]||e.schemas[i].complexTypes[o]:r.$type,"object"==typeof this.parts[r.$name]&&(this.parts[r.$name].prefix=n.prefix,this.parts[r.$name].xmlns=i),this.children.splice(s--,1)}this.deleteFixedAttrs()}},t.prototype._createLookupTypeObject=function(e,t){var i=h(e),n=i.prefix,s=i.name.split("#"),o=s[0],r=s[1],a={};return a.$namespace=t[n],a.$type=n+":"+o,a.$name=r,a},t.prototype._getNestedLookupTypeString=function(e){var t=this,i="^",n=this.ignoredNamespaces.concat("xs");return e.hasOwnProperty("$type")&&"string"==typeof e.$type&&-1===n.indexOf(e.$type.split(":")[0])&&(i+="_"+e.$type+"#"+e.$name),e.children.length>0&&e.children.forEach(function(e){var n=t._getNestedLookupTypeString(e).replace(/\^_/,"");n&&"string"==typeof n&&(i+="_"+n)}),i},t}(_),T=function(e){function t(t,i,n){void 0===i&&(i={}),void 0===n&&(n={});var s=e.call(this,t,i,n)||this;return s.init(),s}return $(t,e),t.prototype.init=function(){this.complexTypes={},this.types={},this.elements={},this.includes=[]},t.prototype.merge=function(e){return this.$targetNamespace===e.$targetNamespace&&(s.merge(this.complexTypes,e.complexTypes),s.merge(this.types,e.types),s.merge(this.elements,e.elements),s.merge(this.xmlns,e.xmlns)),this},t.prototype.addChild=function(e){if(!(e.$name in N)){if("include"===e.name||"import"===e.name){var t=e.$schemaLocation||e.$location;t&&this.includes.push({namespace:e.$namespace||e.$targetNamespace||this.$targetNamespace,location:t})}else"complexType"===e.name?this.complexTypes[e.$name]=e:"element"===e.name?this.elements[e.$name]=e:e.$name&&(this.types[e.$name]=e);this.children.pop()}},t}(_),P=function(e){function t(t,i,n){void 0===i&&(i={}),void 0===n&&(n={});var s=e.call(this,t,i,n)||this;return s.init(),s}return $(t,e),t.prototype.init=function(){this.schemas={}},t.prototype.addChild=function(e){var t=e.$targetNamespace;this.schemas.hasOwnProperty(t)?console.error('Target-Namespace "'+t+'" already in use by another Schema!'):this.schemas[t]=e},t}(_),C=function(e){function t(t,i,n){void 0===i&&(i={}),void 0===n&&(n={});var s=e.call(this,t,i,n)||this;return s.init(),s}return $(t,e),t.prototype.description=function(e,t){void 0===e&&(e={});var i={},n=this.$name,s=!!this.$maxOccurs&&(isNaN(this.$maxOccurs)?"unbounded"===this.$maxOccurs:this.$maxOccurs>1);this.$minOccurs!==this.$maxOccurs&&s&&(n+="[]"),t&&t[g]&&(this.$targetNamespace=t[g]);var o=this.$type||this.$ref;if(o){var r=(o=h(o)).name,a=t&&t[o.prefix]||e.xmlns[o.prefix],p=e.schemas[a],c=p&&(this.$type?p.complexTypes[r]||p.types[r]:p.elements[r]);if(a&&e.schemas[a]&&(t=e.schemas[a].xmlns),!c||r in N)i[n]=this.$type;else if(r in e.descriptions.types)this.$ref?i=e.descriptions.types[r]:i[n]=e.descriptions.types[r];else{var u={};e.descriptions.types[r]=u;var l=c.description(e,t);"string"==typeof l?u=l:Object.keys(l).forEach(function(e){u[e]=l[e]}),this.$ref?i=u:i[n]=u,"object"==typeof u&&(u.targetNSAlias=o.prefix,u.targetNamespace=a),e.descriptions.types[r]=u}}else{var d=this.children;i[n]={};for(var f,m=0;f=d[m];m++)f instanceof k&&(i[n]=f.description(e,t))}return i},t}(_),H=function(e){function t(t,i,n){void 0===i&&(i={}),void 0===n&&(n={});var s=e.call(this,t,i,n)||this;return s.init(),s}return $(t,e),t.prototype.description=function(e,i){void 0===e&&(e={});for(var n,s=this.children,o={},r=0;n=s[r];r++)if(!(n instanceof t)){var a=n.description(e,i);for(var p in a)o[p]=a[p]}return o},t}(_),M=function(e){function t(t,i,n){void 0===i&&(i={}),void 0===n&&(n={});var s=e.call(this,t,i,n)||this;return s.init(),s}return $(t,e),t.prototype.addChild=function(e){"body"===e.name&&(this.use=e.$use,"encoded"===this.use&&(this.encodingStyle=e.$encodingStyle),this.children.pop())},t}(_),L=function(e){function t(t,i,n){void 0===i&&(i={}),void 0===n&&(n={});var s=e.call(this,t,i,n)||this;return s.init(),s}return $(t,e),t.prototype.addChild=function(e){"body"===e.name&&(this.use=e.$use,"encoded"===this.use&&(this.encodingStyle=e.$encodingStyle),this.children.pop())},t}(_),K=function(e){function t(t,i,n){void 0===i&&(i={}),void 0===n&&(n={});var s=e.call(this,t,i,n)||this;return s.init(),s}return $(t,e),t.prototype.description=function(e,t){void 0===e&&(e={});for(var i,n=this.children,s=0;i=n[s];s++)if(i instanceof E)return this.$name+"|"+i.description();return{}},t}(_),E=function(e){function t(t,i,n){void 0===i&&(i={}),void 0===n&&(n={});var s=e.call(this,t,i,n)||this;return s.init(),s}return $(t,e),t.prototype.description=function(e,t){void 0===e&&(e={});for(var i,n,s=this.children,o=0;n=s[o];o++)if(n instanceof q||n instanceof I){i=n.description(e,t);break}if(i&&this.$base){var r=h(this.$base),a=r.name,p=t&&t[r.prefix]||e.xmlns[r.prefix],c=e.schemas[p],u=c&&(c.complexTypes[a]||c.types[a]||c.elements[a]);return i.getBase=function(){return u.description(e,c.xmlns)},i}return(this.$base?this.$base+"|":"")+this.children.map(function(e){return e.description()}).join(",")},t}(_),F=function(e){function t(t,i,n){void 0===i&&(i={}),void 0===n&&(n={});var s=e.call(this,t,i,n)||this;return s.init(),s}return $(t,e),t.prototype.description=function(e,t){void 0===e&&(e={});for(var i,n=this.children,o={},r=0;i=n[r];r++)(i instanceof q||i instanceof I)&&(o=i.description(e,t));if(this.$base){var a=h(this.$base),p=a.name,c=t&&t[a.prefix]||e.xmlns[a.prefix],u=e.schemas[c];if(p in N)return this.$base;var l=u&&(u.complexTypes[p]||u.types[p]||u.elements[p]);if(l){var d=l.description(e,u.xmlns);o=s.defaultsDeep(d,o)}}return o},t}(_),I=function(e){function t(t,i,n){void 0===i&&(i={}),void 0===n&&(n={});var s=e.call(this,t,i,n)||this;return s.init(),s}return $(t,e),t.prototype.description=function(e,t){void 0===e&&(e={});for(var i,n=this.children,s={},o=0;i=n[o];o++){var r=i.description(e,t);for(var a in r)s[a]=r[a]}return s},t}(_),R=function(e){function t(t,i,n){void 0===i&&(i={}),void 0===n&&(n={});var s=e.call(this,t,i,n)||this;return s.init(),s}return $(t,e),t.prototype.description=function(e,t){return void 0===e&&(e={}),this[this.valueKey]},t}(_),k=function(e){function t(t,i,n){void 0===i&&(i={}),void 0===n&&(n={});var s=e.call(this,t,i,n)||this;return s.init(),s}return $(t,e),t.prototype.description=function(e,t){void 0===e&&(e={});for(var i,n=this.children||[],s=0;i=n[s];s++)if(i instanceof I||i instanceof q||i instanceof D||i instanceof B||i instanceof X)return i.description(e,t);return{}},t}(_),X=function(e){function t(t,i,n){void 0===i&&(i={}),void 0===n&&(n={});var s=e.call(this,t,i,n)||this;return s.init(),s}return $(t,e),t.prototype.description=function(e,t){void 0===e&&(e={});for(var i,n=this.children,s=0;i=n[s];s++)if(i instanceof F)return i.description(e,t);return{}},t}(_),B=function(e){function t(t,i,n){void 0===i&&(i={}),void 0===n&&(n={});var s=e.call(this,t,i,n)||this;return s.init(),s}return $(t,e),t.prototype.description=function(e,t){void 0===e&&(e={});for(var i,n=this.children,s=0;i=n[s];s++)if(i instanceof F)return i.description(e,t);return{}},t}(_),q=function(e){function t(t,i,n){void 0===i&&(i={}),void 0===n&&(n={});var s=e.call(this,t,i,n)||this;return s.init(),s}return $(t,e),t.prototype.description=function(e,t){void 0===e&&(e={});for(var i,n=this.children,s={},o=0;i=n[o];o++)if(!(i instanceof H)){var r=i.description(e,t);for(var a in r)s[a]=r[a]}return s},t}(_),D=function(e){function t(t,i,n){void 0===i&&(i={}),void 0===n&&(n={});var s=e.call(this,t,i,n)||this;return s.init(),s}return $(t,e),t.prototype.description=function(e,t){void 0===e&&(e={});for(var i,n=this.children,s={},o=0;i=n[o];o++)if(!(i instanceof H)){var r=i.description(e,t);for(var a in r)s[a]=r[a]}return s},t}(_),z=function(e){function t(t,i,n){void 0===i&&(i={}),void 0===n&&(n={});var s=e.call(this,t,i,n)||this;return s.init(),s}return $(t,e),t.prototype.init=function(){this.input=null,this.output=null,this.inputSoap=null,this.outputSoap=null,this.style="",this.soapAction=""},t.prototype.addChild=function(e){"operation"===e.name&&(this.soapAction=e.$soapAction||"",this.style=e.$style||"",this.children.pop())},t.prototype.postProcess=function(e,t){for(var i,n=this.children,s=0;i=n[s];s++)if("input"===i.name||"output"===i.name)if("binding"!==t){var o=h(i.$message).name,r=e.messages[o];r.postProcess(e),r.element?(e.messages[r.element.$name]=r,this[i.name]=r.element):this[i.name]=r,n.splice(s--,1)}else this[i.name]=i,n.splice(s--,1);this.deleteFixedAttrs()},t.prototype.description=function(e,t){void 0===e&&(e={});var i=this.input?this.input.description(e):null,n=this.output?this.output.description(e):null;return{input:i&&i[Object.keys(i)[0]],output:n&&n[Object.keys(n)[0]]}},t}(_),U=function(e){function t(t,i,n){void 0===i&&(i={}),void 0===n&&(n={});var s=e.call(this,t,i,n)||this;return s.init(),s}return $(t,e),t.prototype.init=function(){this.methods={}},t.prototype.postProcess=function(e){var t=this.children;if(void 0!==t){for(var i,n=0;i=t[n];n++)"operation"===i.name&&(i.postProcess(e,"portType"),this.methods[i.$name]=i,t.splice(n--,1));delete this.$name,this.deleteFixedAttrs()}},t.prototype.description=function(e,t){void 0===e&&(e={});var i={};for(var n in this.methods){var s=this.methods[n];i[n]=s.description(e)}return i},t}(_),W=function(e){function t(t,i,n){void 0===i&&(i={}),void 0===n&&(n={});var s=e.call(this,t,i,n)||this;return s.init(),s}return $(t,e),t.prototype.init=function(){this.transport="",this.style="",this.methods={}},t.prototype.addChild=function(e){"binding"===e.name&&(this.transport=e.$transport,this.style=e.$style,this.children.pop())},t.prototype.postProcess=function(e){var t=h(this.$type).name,i=e.portTypes[t],n=this.style,s=this.children;if(i){i.postProcess(e),this.methods=i.methods;for(var o,r=0;o=s[r];r++)if("operation"===o.name){o.postProcess(e,"binding"),s.splice(r--,1),o.style||(o.style=n);var a=this.methods[o.$name];a&&(a.style=o.style,a.soapAction=o.soapAction,a.inputSoap=o.input||null,a.outputSoap=o.output||null,a.inputSoap&&a.inputSoap.deleteFixedAttrs(),a.outputSoap&&a.outputSoap.deleteFixedAttrs())}}delete this.$name,delete this.$type,this.deleteFixedAttrs()},t.prototype.description=function(e,t){void 0===e&&(e={});var i={};for(var n in this.methods){var s=this.methods[n];i[n]=s.description(e)}return i},t}(_),Y=function(e){function t(t,i,n){void 0===i&&(i={}),void 0===n&&(n={});var s=e.call(this,t,i,n)||this;return s.init(),s}return $(t,e),t.prototype.init=function(){this.location=null},t.prototype.addChild=function(e){"address"===e.name&&void 0!==e.$location&&(this.location=e.$location)},t}(_),J=function(e){function t(t,i,n){void 0===i&&(i={}),void 0===n&&(n={});var s=e.call(this,t,i,n)||this;return s.init(),s}return $(t,e),t.prototype.init=function(){this.ports={}},t.prototype.postProcess=function(e){var t=this.children,i=e.bindings;if(t&&t.length>0)for(var n,s=0;n=t[s];s++)if("port"===n.name){var o=i[h(n.$binding).name];o&&(o.postProcess(e),this.ports[n.$name]={location:n.location,binding:o},t.splice(s--,1))}delete this.$name,this.deleteFixedAttrs()},t.prototype.description=function(e,t){void 0===e&&(e={});var i={};for(var n in this.ports){var s=this.ports[n];i[n]=s.binding.description(e)}return i},t}(_),Q=function(e){function t(t,i,n){void 0===i&&(i={}),void 0===n&&(n={});var s=e.call(this,t,i,n)||this;return s.init(),s}return $(t,e),t.prototype.init=function(){"definitions"!==this.name&&this.unexpected(this.nsName),this.messages={},this.portTypes={},this.bindings={},this.services={},this.schemas={}},t.prototype.addChild=function(e){e instanceof P?s.merge(this.schemas,e.schemas):e instanceof O?this.messages[e.$name]=e:"import"===e.name?(this.schemas[e.$namespace]=new T(e.$namespace,{}),this.schemas[e.$namespace].addChild(e)):e instanceof U?this.portTypes[e.$name]=e:e instanceof W?"http://schemas.xmlsoap.org/soap/http"!==e.transport&&"http://www.w3.org/2003/05/soap/bindings/HTTP/"!==e.transport||(this.bindings[e.$name]=e):e instanceof J&&(this.services[e.$name]=e),this.children.pop()},t}(_),G=function(e){function t(t,i,n){void 0===i&&(i={}),void 0===n&&(n={});var s=e.call(this,t,i,n)||this;return s.init(),s}return $(t,e),t}(_),V={types:[P,"schema documentation"],schema:[T,"element complexType simpleType include import"],element:[C,"annotation complexType"],any:[H,""],simpleType:[K,"restriction"],restriction:[E,"enumeration all choice sequence"],extension:[F,"all sequence choice"],choice:[I,"element sequence choice any"],enumeration:[R,""],complexType:[k,"annotation sequence all complexContent simpleContent choice"],complexContent:[X,"extension"],simpleContent:[B,"extension"],sequence:[q,"element sequence choice any"],all:[D,"element choice"],service:[J,"port documentation"],port:[Y,"address documentation"],binding:[W,"_binding SecuritySpec operation documentation"],portType:[U,"operation documentation"],message:[O,"part documentation"],operation:[z,"documentation input output fault _operation"],input:[M,"body SecuritySpecRef documentation header"],output:[L,"body SecuritySpecRef documentation header"],fault:[_,"_fault documentation"],definitions:[Q,"types message portType binding service import documentation"],documentation:[G,""]},Z=function(){function e(e,t,i){i=i||{},this.wsdl=e,this._initializeOptions(i),this._initializeServices(t)}return e.prototype.addSoapHeader=function(e,t,i,n){return this.soapHeaders||(this.soapHeaders=[]),"object"==typeof e&&(e=this.wsdl.objectToXML(e,t,i,n,!0)),this.soapHeaders.push(e)-1},e.prototype.changeSoapHeader=function(e,t,i,n,s){this.soapHeaders||(this.soapHeaders=[]),"object"==typeof t&&(t=this.wsdl.objectToXML(t,i,n,s,!0)),this.soapHeaders[e]=t},e.prototype.getSoapHeaders=function(){return this.soapHeaders},e.prototype.clearSoapHeaders=function(){this.soapHeaders=null},e.prototype.addHttpHeader=function(e,t){this.httpHeaders||(this.httpHeaders={}),this.httpHeaders[e]=t},e.prototype.getHttpHeaders=function(){return this.httpHeaders},e.prototype.clearHttpHeaders=function(){this.httpHeaders={}},e.prototype.addBodyAttribute=function(e,t,i,n){if(this.bodyAttributes||(this.bodyAttributes=[]),"object"==typeof e){var s="";Object.getOwnPropertyNames(e).forEach(function(t,i,n){s+=" "+t+'="'+e[t]+'"'}),e=s}" "!==e.substr(0,1)&&(e=" "+e),this.bodyAttributes.push(e)},e.prototype.getBodyAttributes=function(){return this.bodyAttributes},e.prototype.clearBodyAttributes=function(){this.bodyAttributes=null},e.prototype.setEndpoint=function(e){this.endpoint=e,this._initializeServices(e)},e.prototype.describe=function(){this.wsdl.definitions.types;return this.wsdl.describeServices()},e.prototype.setSecurity=function(e){this.security=e},e.prototype.setSOAPAction=function(e){this.SOAPAction=e},e.prototype._initializeServices=function(e){var t=this.wsdl.definitions.services;for(var i in t)this[i]=this._defineService(t[i],e)},e.prototype._initializeOptions=function(e){void 0===e&&(e={}),this.streamAllowed=e.stream,this.wsdl.options.attributesKey=e.attributesKey||"attributes",this.wsdl.options.envelopeKey=e.envelopeKey||"soap",void 0!==e.ignoredNamespaces&&void 0!==e.ignoredNamespaces.override&&!0===e.ignoredNamespaces.override&&void 0!==e.ignoredNamespaces.namespaces&&(this.wsdl.options.ignoredNamespaces=e.ignoredNamespaces.namespaces),void 0!==e.overrideRootElement&&(this.wsdl.options.overrideRootElement=e.overrideRootElement),this.wsdl.options.forceSoap12Headers=!!e.forceSoap12Headers},e.prototype._defineService=function(e,t){var i=e.ports,n={};for(var s in i)n[s]=this._definePort(i[s],t||i[s].location);return n},e.prototype._definePort=function(e,t){var i=t,n=e.binding.methods,s={};for(var o in n)s[o]=this._defineMethod(n[o],i),this[o]=s[o];return s},e.prototype._defineMethod=function(e,t){var i,n=this;return function(s,o,r,a){"function"==typeof s?(o=s,s={}):"function"==typeof r?(i=o,o=r,r=i):"function"==typeof a&&(i=o,o=a,a=r,r=i),n._invoke(e,s,t,function(e,t,i,n){o(e,t,i,n)},r,a)}},e.prototype._invoke=function(e,t,i,n,o,r){function u(e,t){var i;try{i=f.wsdl.xmlToObject(e)}catch(i){if(!v||!v.$lookupTypes){var o=s.isObject(e)?e:P(e);if(o)return n(null,t,o)}return i.response=t,i.body=e,n(i,t,e)}return l(i,e,t)}function l(e,t,i){var s;if(!v)return n(null,null,t,e.Header);if("object"!=typeof e.Body){var o=new Error("Cannot parse response");return o.response=i,o.body=t,n(o,e,t)}if(!e.Body)return n(null,e,t,e.Header);(s=e.Body[v.$name])||(s=e.Body[v.$name.replace(/(?:Out(?:put)?|Response)$/,"")]),s||["Response","Out","Output"].forEach(function(t){if(e.Body.hasOwnProperty(m+t))return s=e.Body[m+t]}),n(null,s,t,e.Header)}var h,d=this,f=this,m=e.$name,y=e.input,v=e.output,g=e.style,x=this.wsdl.definitions,b=this.wsdl.options.envelopeKey,$=x.$targetNamespace,w="",N="",S=null,j=c(x.xmlns,$),A={"Content-Type":"text/xml; charset=utf-8"},_="xmlns:"+b+'="http://schemas.xmlsoap.org/soap/envelope/"';this.wsdl.options.forceSoap12Headers&&(A["Content-Type"]="application/soap+xml; charset=utf-8",_="xmlns:"+b+'="http://www.w3.org/2003/05/soap-envelope"'),h=this.SOAPAction?this.SOAPAction:void 0!==e.soapAction&&null!==e.soapAction?e.soapAction:($.lastIndexOf("/")!==$.length-1?$+"/":$)+m,this.wsdl.options.forceSoap12Headers||(A.SOAPAction='"'+h+'"'),o=o||{};for(var O in this.httpHeaders)A[O]=this.httpHeaders[O];for(var T in r)A[T]=r[T];this.security&&this.security.addHeaders&&f.security.addHeaders(A),this.security&&this.security.addOptions&&f.security.addOptions(o),"rpc"!==g||!y.parts&&"element"!==y.name&&null!==t?(a.ok(!g||"document"===g,"invalid message definition for rpc style binding"),N=f.wsdl.objectToDocumentXML(y.$name,t,y.targetNSAlias,y.targetNamespace,y.$type||y.$lookupType)):(a.ok(!g||"rpc"===g,"invalid message definition for document style binding"),N=f.wsdl.objectToRpcXML(m,t,j,$,"element"!==y.name),"encoded"===e.inputSoap&&(w='soap:encodingStyle="http://schemas.xmlsoap.org/soap/encoding/" ')),S='<?xml version="1.0" encoding="utf-8"?><'+b+":Envelope "+_+' xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" '+w+this.wsdl.xmlnsInEnvelope+">"+(f.soapHeaders||f.security?"<"+b+":Header>"+(f.soapHeaders?f.soapHeaders.join("\n"):"")+(f.security&&!f.security.postProcess?f.security.toXML():"")+"</"+b+":Header>":"")+"<"+b+":Body"+(this.bodyAttributes?this.bodyAttributes.join(" "):"")+(this.security&&this.security.postProcess?' Id="_0"':"")+">"+N+"</"+b+":Body></"+b+":Envelope>",f.security&&f.security.postProcess&&(S=f.security.postProcess(S,b)),this.lastMessage=N,this.lastRequest=S,this.lastEndpoint=i;o.exchangeId||p.v4();var P=function(e){try{return JSON.parse(e)}catch(e){return}};this.wsdl.http.post(i,S,{}).map(function(e){var t=e.text();d.lastResponse=t,d.lastResponseHeaders=e.headers,u(t,e)})},e}(),ee=function(){function e(){}return e.prototype.createClient=function(e,t,i){return void 0===i&&(i={}),v(t,e,i)},e}();ee.decorators=[{type:t.Injectable}],ee.ctorParameters=function(){return[]};var te=function(){return function(){}}();te.decorators=[{type:t.NgModule,args:[{imports:[i.HttpModule],providers:[ee]}]}],te.ctorParameters=function(){return[]},e.NgxSoapModule=te,e.SOAPService=ee,e.Client=Z,Object.defineProperty(e,"__esModule",{value:!0})});