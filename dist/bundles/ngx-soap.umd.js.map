{"version":3,"file":"ngx-soap.umd.js","sources":["../src/libts/utils.js","../src/libts/nscontext.js","../src/libts/wsdl.js","../src/libts/client.js","../src/libts/soap.js","../src/soap.service.js","../src/ngx-soap.module.js","../src/libts/security/basic-auth-security.js"],"sourcesContent":["// import * as crypto from '                     crypto-js/sha1';\n// import * as buffer from \"buffer/\";\n// export function passwordDigest(nonce, created, password) {\n//   // digest = base64 ( sha1 ( nonce + created + password ) )\n//   var pwHash = crypto.createHash('sha1');\n//   var rawNonce = buffer.Buffer(nonce || '', 'base64').toString('binary');\n//   pwHash.update(rawNonce + created + password);\n//   return pwHash.digest('base64');\n// };\n// import * as crypto from '                     crypto-js/sha1';\nexport var TNS_PREFIX = '__tns__'; // Prefix for targetNamespace\n/**\n * Find a key from an object based on the value\n * @param {Object} Namespace prefix/uri mapping\n * @param {*} nsURI value\n * @returns {String} The matching key\n */\n// Prefix for targetNamespace\nexport function findPrefix(xmlnsMapping, nsURI) {\n    for (var n in xmlnsMapping) {\n        if (n === TNS_PREFIX)\n            continue;\n        if (xmlnsMapping[n] === nsURI) {\n            return n;\n        }\n    }\n}\n;\n//# sourceMappingURL=utils.js.map","var NamespaceScope = (function () {\n    /**\n     * Scope for XML namespaces\n     * @param {NamespaceScope} [parent] Parent scope\n     * @returns {NamespaceScope}\n     * @constructor\n     */\n    function NamespaceScope(parent) {\n        this.namespaces = {};\n        if (!(this instanceof NamespaceScope)) {\n            return new NamespaceScope(parent);\n        }\n        this.parent = parent;\n        this.namespaces = {};\n    }\n    /**\n     * Look up the namespace URI by prefix\n     * @param {String} prefix Namespace prefix\n     * @param {Boolean} [localOnly] Search current scope only\n     * @returns {String} Namespace URI\n     */\n    NamespaceScope.prototype.getNamespaceURI = function (prefix, localOnly) {\n        switch (prefix) {\n            case 'xml':\n                return 'http://www.w3.org/XML/1998/namespace';\n            case 'xmlns':\n                return 'http://www.w3.org/2000/xmlns/';\n            default:\n                var nsUri = this.namespaces[prefix];\n                /*jshint -W116 */\n                if (nsUri != null) {\n                    return nsUri.uri;\n                }\n                else if (!localOnly && this.parent) {\n                    return this.parent.getNamespaceURI(prefix);\n                }\n                else {\n                    return null;\n                }\n        }\n    };\n    NamespaceScope.prototype.getNamespaceMapping = function (prefix) {\n        switch (prefix) {\n            case 'xml':\n                return {\n                    uri: 'http://www.w3.org/XML/1998/namespace',\n                    prefix: 'xml',\n                    declared: true\n                };\n            case 'xmlns':\n                return {\n                    uri: 'http://www.w3.org/2000/xmlns/',\n                    prefix: 'xmlns',\n                    declared: true\n                };\n            default:\n                var mapping = this.namespaces[prefix];\n                /*jshint -W116 */\n                if (mapping != null) {\n                    return mapping;\n                }\n                else if (this.parent) {\n                    return this.parent.getNamespaceMapping(prefix);\n                }\n                else {\n                    return null;\n                }\n        }\n    };\n    /**\n     * Look up the namespace prefix by URI\n     * @param {String} nsUri Namespace URI\n     * @param {Boolean} [localOnly] Search current scope only\n     * @returns {String} Namespace prefix\n     */\n    NamespaceScope.prototype.getPrefix = function (nsUri, localOnly) {\n        switch (nsUri) {\n            case 'http://www.w3.org/XML/1998/namespace':\n                return 'xml';\n            case 'http://www.w3.org/2000/xmlns/':\n                return 'xmlns';\n            default:\n                for (var p in this.namespaces) {\n                    if (this.namespaces[p].uri === nsUri) {\n                        return p;\n                    }\n                }\n                if (!localOnly && this.parent) {\n                    return this.parent.getPrefix(nsUri);\n                }\n                else {\n                    return null;\n                }\n        }\n    };\n    return NamespaceScope;\n}());\nexport { NamespaceScope };\n/**\n * Namespace context that manages hierarchical scopes\n * @returns {NamespaceContext}\n * @constructor\n */\nvar NamespaceContext = (function () {\n    function NamespaceContext() {\n        /**\n         * Register a namespace\n         * @param {String} nsUri Namespace URI\n         * @returns {String} The matching or generated namespace prefix\n         */\n        this.registerNamespace = function (nsUri) {\n            var prefix = this.getPrefix(nsUri);\n            if (prefix) {\n                // If the namespace has already mapped to a prefix\n                return prefix;\n            }\n            else {\n                // Try to generate a unique namespace\n                while (true) {\n                    prefix = 'ns' + (++this.prefixCount);\n                    if (!this.getNamespaceURI(prefix)) {\n                        // The prefix is not used\n                        break;\n                    }\n                }\n            }\n            this.addNamespace(prefix, nsUri, true);\n            return prefix;\n        };\n        // if (!(this instanceof NamespaceContext)) {\n        //   return new NamespaceContext();\n        // }\n        this.scopes = [];\n        this.pushContext();\n        this.prefixCount = 0;\n    }\n    /**\n   * Add a prefix/URI namespace mapping\n   * @param {String} prefix Namespace prefix\n   * @param {String} nsUri Namespace URI\n   * @param {Boolean} [localOnly] Search current scope only\n   * @returns {boolean} true if the mapping is added or false if the mapping\n   * already exists\n   */\n    NamespaceContext.prototype.addNamespace = function (prefix, nsUri, localOnly) {\n        if (this.getNamespaceURI(prefix, localOnly) === nsUri) {\n            return false;\n        }\n        if (this.currentScope) {\n            this.currentScope.namespaces[prefix] = {\n                uri: nsUri,\n                prefix: prefix,\n                declared: false\n            };\n            return true;\n        }\n        return false;\n    };\n    /**\n     * Push a scope into the context\n     * @returns {NamespaceScope} The current scope\n     */\n    NamespaceContext.prototype.pushContext = function () {\n        var scope = new NamespaceScope(this.currentScope);\n        this.scopes.push(scope);\n        this.currentScope = scope;\n        return scope;\n    };\n    /**\n   * Pop a scope out of the context\n   * @returns {NamespaceScope} The removed scope\n   */\n    NamespaceContext.prototype.popContext = function () {\n        var scope = this.scopes.pop();\n        if (scope) {\n            this.currentScope = scope.parent;\n        }\n        else {\n            this.currentScope = null;\n        }\n        return scope;\n    };\n    /**\n     * Look up the namespace URI by prefix\n     * @param {String} prefix Namespace prefix\n     * @param {Boolean} [localOnly] Search current scope only\n     * @returns {String} Namespace URI\n     */\n    NamespaceContext.prototype.getNamespaceURI = function (prefix, localOnly) {\n        return this.currentScope && this.currentScope.getNamespaceURI(prefix, localOnly);\n    };\n    /**\n   * Look up the namespace prefix by URI\n   * @param {String} nsURI Namespace URI\n   * @param {Boolean} [localOnly] Search current scope only\n   * @returns {String} Namespace prefix\n   */\n    NamespaceContext.prototype.getPrefix = function (nsUri, localOnly) {\n        return this.currentScope && this.currentScope.getPrefix(nsUri, localOnly);\n    };\n    /**\n     * Declare a namespace prefix/uri mapping\n     * @param {String} prefix Namespace prefix\n     * @param {String} nsUri Namespace URI\n     * @returns {Boolean} true if the declaration is created\n     */\n    NamespaceContext.prototype.declareNamespace = function (prefix, nsUri) {\n        if (this.currentScope) {\n            var mapping = this.currentScope.getNamespaceMapping(prefix);\n            if (mapping && mapping.uri === nsUri && mapping.declared) {\n                return false;\n            }\n            this.currentScope.namespaces[prefix] = {\n                uri: nsUri,\n                prefix: prefix,\n                declared: true\n            };\n            return true;\n        }\n        return false;\n    };\n    return NamespaceContext;\n}());\nexport { NamespaceContext };\n//# sourceMappingURL=nscontext.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as _ from 'lodash';\nimport * as sax from 'sax';\nimport { TNS_PREFIX, findPrefix } from './utils';\nimport { NamespaceContext } from \"./nscontext\";\nvar stripBom = function (x) {\n    // Catches EFBBBF (UTF-8 BOM) because the buffer-to-string\n    // conversion translates it to FEFF (UTF-16 BOM)\n    if (x.charCodeAt(0) === 0xFEFF) {\n        return x.slice(1);\n    }\n    return x;\n};\nvar Primitives = {\n    string: 1,\n    boolean: 1,\n    decimal: 1,\n    float: 1,\n    double: 1,\n    anyType: 1,\n    byte: 1,\n    int: 1,\n    long: 1,\n    short: 1,\n    negativeInteger: 1,\n    nonNegativeInteger: 1,\n    positiveInteger: 1,\n    nonPositiveInteger: 1,\n    unsignedByte: 1,\n    unsignedInt: 1,\n    unsignedLong: 1,\n    unsignedShort: 1,\n    duration: 0,\n    dateTime: 0,\n    time: 0,\n    date: 0,\n    gYearMonth: 0,\n    gYear: 0,\n    gMonthDay: 0,\n    gDay: 0,\n    gMonth: 0,\n    hexBinary: 0,\n    base64Binary: 0,\n    anyURI: 0,\n    QName: 0,\n    NOTATION: 0\n};\nvar trimLeft = /^[\\s\\xA0]+/;\nvar trimRight = /[\\s\\xA0]+$/;\nfunction appendColon(ns) {\n    return (ns && ns.charAt(ns.length - 1) !== ':') ? ns + ':' : ns;\n}\nfunction noColonNameSpace(ns) {\n    return (ns && ns.charAt(ns.length - 1) === ':') ? ns.substring(0, ns.length - 1) : ns;\n}\nfunction splitQName(nsName) {\n    if (typeof nsName !== 'string')\n        return {\n            prefix: '',\n            name: nsName\n        };\n    var i = nsName.indexOf(':');\n    return i < 0 ? { prefix: TNS_PREFIX, name: nsName } :\n        { prefix: nsName.substring(0, i), name: nsName.substring(i + 1) };\n}\nfunction xmlEscape(obj) {\n    if (typeof (obj) === 'string') {\n        if (obj.substr(0, 9) === '<![CDATA[' && obj.substr(-3) === \"]]>\") {\n            return obj;\n        }\n        return obj\n            .replace(/&/g, '&amp;')\n            .replace(/</g, '&lt;')\n            .replace(/>/g, '&gt;')\n            .replace(/\"/g, '&quot;')\n            .replace(/'/g, '&apos;');\n    }\n    return obj;\n}\nfunction trim(text) {\n    return text.replace(trimLeft, '').replace(trimRight, '');\n}\nfunction deepMerge(destination, source) {\n    return _.merge(destination || {}, source, function (a, b) {\n        return _.isArray(a) ? a.concat(b) : undefined;\n    });\n}\nexport function openWsdl(wsdlDef, options) {\n    if (options === void 0) { options = {}; }\n    return new Promise(function (resolve, reject) {\n        var wsdl = new WSDL(wsdlDef, options);\n        resolve(wsdl.build());\n        // var request_headers = options.wsdl_headers;\n        // var request_options = options.wsdl_options;\n        // http.get(uri).subscribe(response => {\n        //   let wsdlDef = response.text();\n        //   if (!wsdlDef) reject(\"No wsdl found at url \" + uri)\n        //   try {\n        //     let wsdl = new WSDL(http, wsdlDef, uri, options);\n        //     resolve(wsdl.build());\n        //   } catch (e) {\n        //     reject(e);\n        //   }\n        // });\n    });\n}\nvar WSDL = (function () {\n    function WSDL(definition, options) {\n        this.options = {};\n        // uri: any;\n        this.ignoredNamespaces = ['tns', 'targetNamespace', 'typedNamespace'];\n        this.ignoreBaseNameSpaces = false;\n        this.valueKey = '$value';\n        this.xmlKey = '$xml';\n        this.describeServices = function () {\n            var services = {};\n            for (var name in this.services) {\n                var service = this.services[name];\n                services[name] = service.description(this.definitions);\n            }\n            return services;\n        };\n        /**\n       * Look up a XSD type or element by namespace URI and name\n       * @param {String} nsURI Namespace URI\n       * @param {String} qname Local or qualified name\n       * @returns {*} The XSD type/element definition\n       */\n        this.findSchemaObject = function (nsURI, qname) {\n            if (!nsURI || !qname) {\n                return null;\n            }\n            var def = null;\n            if (this.definitions.schemas) {\n                var schema = this.definitions.schemas[nsURI];\n                if (schema) {\n                    if (qname.indexOf(':') !== -1) {\n                        qname = qname.substring(qname.indexOf(':') + 1, qname.length);\n                    }\n                    // if the client passed an input element which has a `$lookupType` property instead of `$type`\n                    // the `def` is found in `schema.elements`.\n                    def = schema.complexTypes[qname] || schema.types[qname] || schema.elements[qname];\n                }\n            }\n            return def;\n        };\n        this.definition = definition;\n        // this.uri = uri;\n        this._includesWsdl = [];\n        this._initializeOptions(options);\n    }\n    WSDL.prototype.build = function () {\n        var _this = this;\n        return this._fromXML(stripBom(this.definition))\n            .then(function () { return _this.processIncludes(); })\n            .then(function (definitions) {\n            var name;\n            _this.definitions = definitions;\n            _this.definitions.deleteFixedAttrs();\n            var services = _this.services = _this.definitions.services;\n            if (services) {\n                for (name in services) {\n                    services[name].postProcess(_this.definitions);\n                }\n            }\n            var complexTypes = _this.definitions.complexTypes;\n            if (complexTypes) {\n                for (name in complexTypes) {\n                    complexTypes[name].deleteFixedAttrs();\n                }\n            }\n            // for document style, for every binding, prepare input message element name to (methodName, output message element name) mapping\n            var bindings = _this.definitions.bindings;\n            for (var bindingName in bindings) {\n                var binding = bindings[bindingName];\n                if (typeof binding.style === 'undefined') {\n                    binding.style = 'document';\n                }\n                if (binding.style !== 'document')\n                    continue;\n                var methods = binding.methods;\n                var topEls = binding.topElements = {};\n                for (var methodName in methods) {\n                    if (methods[methodName].input) {\n                        var inputName = methods[methodName].input.$name;\n                        var outputName = \"\";\n                        if (methods[methodName].output)\n                            outputName = methods[methodName].output.$name;\n                        topEls[inputName] = { \"methodName\": methodName, \"outputName\": outputName };\n                    }\n                }\n            }\n            _this.xmlnsInEnvelope = _this._xmlnsMap();\n            return _this;\n        })\n            .catch(function (err) { return console.log(\"Build error\", err); });\n    };\n    WSDL.prototype.processIncludes = function () {\n        var schemas = this.definitions.schemas;\n        var includes = [];\n        for (var ns in schemas) {\n            var schema = schemas[ns];\n            includes = includes.concat(schema.includes || []);\n        }\n        return this._processNextInclude(includes);\n    };\n    WSDL.prototype.toXML = function () {\n        return this.xml || '';\n    };\n    WSDL.prototype.objectToXML = function (obj, name, nsPrefix, nsURI, isFirst, xmlnsAttr, schemaObject, nsContext) {\n        if (isFirst === void 0) { isFirst = {}; }\n        if (xmlnsAttr === void 0) { xmlnsAttr = {}; }\n        var self = this;\n        var schema = this.definitions.schemas[nsURI];\n        var parentNsPrefix = nsPrefix ? nsPrefix.parent : undefined;\n        if (typeof parentNsPrefix !== 'undefined') {\n            //we got the parentNsPrefix for our array. setting the namespace-variable back to the current namespace string\n            nsPrefix = nsPrefix.current;\n        }\n        parentNsPrefix = noColonNameSpace(parentNsPrefix);\n        if (this.isIgnoredNameSpace(parentNsPrefix)) {\n            parentNsPrefix = '';\n        }\n        var soapHeader = !schema;\n        var qualified = schema && schema.$elementFormDefault === 'qualified';\n        var parts = [];\n        var prefixNamespace = (nsPrefix || qualified) && nsPrefix !== TNS_PREFIX;\n        var xmlnsAttrib = '';\n        if (nsURI && isFirst) {\n            if (self.options.overrideRootElement && self.options.overrideRootElement.xmlnsAttributes) {\n                self.options.overrideRootElement.xmlnsAttributes.forEach(function (attribute) {\n                    xmlnsAttrib += ' ' + attribute.name + '=\"' + attribute.value + '\"';\n                });\n            }\n            else {\n                if (prefixNamespace && !this.isIgnoredNameSpace(nsPrefix)) {\n                    // resolve the prefix namespace\n                    xmlnsAttrib += ' xmlns:' + nsPrefix + '=\"' + nsURI + '\"';\n                }\n                // only add default namespace if the schema elementFormDefault is qualified\n                if (qualified || soapHeader)\n                    xmlnsAttrib += ' xmlns=\"' + nsURI + '\"';\n            }\n        }\n        if (!nsContext) {\n            nsContext = new NamespaceContext();\n            nsContext.declareNamespace(nsPrefix, nsURI);\n        }\n        else {\n            nsContext.pushContext();\n        }\n        // explicitly use xmlns attribute if available\n        if (xmlnsAttr && !(self.options.overrideRootElement && self.options.overrideRootElement.xmlnsAttributes)) {\n            xmlnsAttrib = xmlnsAttr;\n        }\n        var ns = '';\n        if (self.options.overrideRootElement && isFirst) {\n            ns = self.options.overrideRootElement.namespace;\n        }\n        else if (prefixNamespace && (qualified || isFirst || soapHeader) && !this.isIgnoredNameSpace(nsPrefix)) {\n            ns = nsPrefix;\n        }\n        var i, n;\n        // start building out XML string.\n        if (Array.isArray(obj)) {\n            for (i = 0, n = obj.length; i < n; i++) {\n                var item = obj[i];\n                var arrayAttr = self.processAttributes(item, nsContext), correctOuterNsPrefix = parentNsPrefix || ns; //using the parent namespace prefix if given\n                parts.push(['<', appendColon(correctOuterNsPrefix), name, arrayAttr, xmlnsAttrib, '>'].join(''));\n                parts.push(self.objectToXML(item, name, nsPrefix, nsURI, false, null, schemaObject, nsContext));\n                parts.push(['</', appendColon(correctOuterNsPrefix), name, '>'].join(''));\n            }\n        }\n        else if (typeof obj === 'object') {\n            for (name in obj) {\n                if (!obj.hasOwnProperty(name))\n                    continue;\n                //don't process attributes as element\n                if (name === self.options.attributesKey) {\n                    continue;\n                }\n                //Its the value of a xml object. Return it directly.\n                if (name === self.options.xmlKey) {\n                    nsContext.popContext();\n                    return obj[name];\n                }\n                //Its the value of an item. Return it directly.\n                if (name === self.options.valueKey) {\n                    nsContext.popContext();\n                    return xmlEscape(obj[name]);\n                }\n                var child = obj[name];\n                if (typeof child === 'undefined') {\n                    continue;\n                }\n                var attr = self.processAttributes(child, nsContext);\n                var value = '';\n                var nonSubNameSpace = '';\n                var emptyNonSubNameSpace = false;\n                var nameWithNsRegex = /^([^:]+):([^:]+)$/.exec(name);\n                if (nameWithNsRegex) {\n                    nonSubNameSpace = nameWithNsRegex[1] + ':';\n                    name = nameWithNsRegex[2];\n                }\n                else if (name[0] === ':') {\n                    emptyNonSubNameSpace = true;\n                    name = name.substr(1);\n                }\n                if (isFirst) {\n                    value = self.objectToXML(child, name, nsPrefix, nsURI, false, null, schemaObject, nsContext);\n                }\n                else {\n                    if (self.definitions.schemas) {\n                        if (schema) {\n                            var childSchemaObject = self.findChildSchemaObject(schemaObject, name);\n                            //find sub namespace if not a primitive\n                            if (childSchemaObject &&\n                                ((childSchemaObject.$type && (childSchemaObject.$type.indexOf('xsd:') === -1)) ||\n                                    childSchemaObject.$ref || childSchemaObject.$name)) {\n                                /*if the base name space of the children is not in the ingoredSchemaNamspaces we use it.\n                                 This is because in some services the child nodes do not need the baseNameSpace.\n                                 */\n                                var childNsPrefix = '';\n                                var childName = '';\n                                var childNsURI;\n                                var childXmlnsAttrib = '';\n                                var elementQName = childSchemaObject.$ref || childSchemaObject.$name;\n                                if (elementQName) {\n                                    elementQName = splitQName(elementQName);\n                                    childName = elementQName.name;\n                                    if (elementQName.prefix === TNS_PREFIX) {\n                                        // Local element\n                                        childNsURI = childSchemaObject.$targetNamespace;\n                                        childNsPrefix = nsContext.registerNamespace(childNsURI);\n                                        if (this.isIgnoredNameSpace(childNsPrefix)) {\n                                            childNsPrefix = nsPrefix;\n                                        }\n                                    }\n                                    else {\n                                        childNsPrefix = elementQName.prefix;\n                                        if (this.isIgnoredNameSpace(childNsPrefix)) {\n                                            childNsPrefix = nsPrefix;\n                                        }\n                                        childNsURI = schema.xmlns[childNsPrefix] || self.definitions.xmlns[childNsPrefix];\n                                    }\n                                    var unqualified = false;\n                                    // Check qualification form for local elements\n                                    if (childSchemaObject.$name && childSchemaObject.targetNamespace === undefined) {\n                                        if (childSchemaObject.$form === 'unqualified') {\n                                            unqualified = true;\n                                        }\n                                        else if (childSchemaObject.$form === 'qualified') {\n                                            unqualified = false;\n                                        }\n                                        else {\n                                            unqualified = schema.$elementFormDefault !== 'qualified';\n                                        }\n                                    }\n                                    if (unqualified) {\n                                        childNsPrefix = '';\n                                    }\n                                    if (childNsURI && childNsPrefix) {\n                                        if (nsContext.declareNamespace(childNsPrefix, childNsURI)) {\n                                            childXmlnsAttrib = ' xmlns:' + childNsPrefix + '=\"' + childNsURI + '\"';\n                                            xmlnsAttrib += childXmlnsAttrib;\n                                        }\n                                    }\n                                }\n                                var resolvedChildSchemaObject;\n                                if (childSchemaObject.$type) {\n                                    var typeQName = splitQName(childSchemaObject.$type);\n                                    var typePrefix = typeQName.prefix;\n                                    var typeURI = schema.xmlns[typePrefix] || self.definitions.xmlns[typePrefix];\n                                    childNsURI = typeURI;\n                                    if (typeURI !== 'http://www.w3.org/2001/XMLSchema' && typePrefix !== TNS_PREFIX) {\n                                        // Add the prefix/namespace mapping, but not declare it\n                                        nsContext.addNamespace(typePrefix, typeURI);\n                                    }\n                                    resolvedChildSchemaObject =\n                                        self.findSchemaType(typeQName.name, typeURI) || childSchemaObject;\n                                }\n                                else {\n                                    resolvedChildSchemaObject =\n                                        self.findSchemaObject(childNsURI, childName) || childSchemaObject;\n                                }\n                                if (childSchemaObject.$baseNameSpace && this.options.ignoreBaseNameSpaces) {\n                                    childNsPrefix = nsPrefix;\n                                    childNsURI = nsURI;\n                                }\n                                if (this.options.ignoreBaseNameSpaces) {\n                                    childNsPrefix = '';\n                                    childNsURI = '';\n                                }\n                                ns = childNsPrefix;\n                                if (Array.isArray(child)) {\n                                    //for arrays, we need to remember the current namespace\n                                    childNsPrefix = {\n                                        current: childNsPrefix,\n                                        parent: ns\n                                    };\n                                }\n                                else {\n                                    //parent (array) already got the namespace\n                                    childXmlnsAttrib = null;\n                                }\n                                value = self.objectToXML(child, name, childNsPrefix, childNsURI, false, childXmlnsAttrib, resolvedChildSchemaObject, nsContext);\n                            }\n                            else if (obj[self.options.attributesKey] && obj[self.options.attributesKey].xsi_type) {\n                                //if parent object has complex type defined and child not found in parent\n                                var completeChildParamTypeObject = self.findChildSchemaObject(obj[self.options.attributesKey].xsi_type.type, obj[self.options.attributesKey].xsi_type.xmlns);\n                                nonSubNameSpace = obj[self.options.attributesKey].xsi_type.prefix;\n                                nsContext.addNamespace(obj[self.options.attributesKey].xsi_type.prefix, obj[self.options.attributesKey].xsi_type.xmlns);\n                                value = self.objectToXML(child, name, obj[self.options.attributesKey].xsi_type.prefix, obj[self.options.attributesKey].xsi_type.xmlns, false, null, null, nsContext);\n                            }\n                            else {\n                                if (Array.isArray(child)) {\n                                    name = nonSubNameSpace + name;\n                                }\n                                value = self.objectToXML(child, name, nsPrefix, nsURI, false, null, null, nsContext);\n                            }\n                        }\n                        else {\n                            value = self.objectToXML(child, name, nsPrefix, nsURI, false, null, null, nsContext);\n                        }\n                    }\n                }\n                ns = noColonNameSpace(ns);\n                if (prefixNamespace && !qualified && isFirst && !self.options.overrideRootElement) {\n                    ns = nsPrefix;\n                }\n                else if (this.isIgnoredNameSpace(ns)) {\n                    ns = '';\n                }\n                if (!Array.isArray(child)) {\n                    // start tag\n                    parts.push(['<', emptyNonSubNameSpace ? '' : appendColon(nonSubNameSpace || ns), name, attr, xmlnsAttrib,\n                        (child === null ? ' xsi:nil=\"true\"' : ''), '>'].join(''));\n                }\n                parts.push(value);\n                if (!Array.isArray(child)) {\n                    // end tag\n                    parts.push(['</', emptyNonSubNameSpace ? '' : appendColon(nonSubNameSpace || ns), name, '>'].join(''));\n                }\n            }\n        }\n        else if (obj !== undefined) {\n            parts.push((self.options.escapeXML) ? xmlEscape(obj) : obj);\n        }\n        nsContext.popContext();\n        return parts.join('');\n    };\n    /**\n   * Create RPC style xml string from the parameters\n   * @param {string} name\n   * @param {*} params\n   * @param {string} nsPrefix\n   * @param {string} nsURI\n   * @param {boolean} isParts\n   * @returns {string}\n   */\n    WSDL.prototype.objectToRpcXML = function (name, params, nsPrefix, nsURI, isParts) {\n        var parts = [];\n        var defs = this.definitions;\n        var nsAttrName = '_xmlns';\n        nsPrefix = nsPrefix || findPrefix(defs.xmlns, nsURI);\n        nsURI = nsURI || defs.xmlns[nsPrefix];\n        nsPrefix = nsPrefix === TNS_PREFIX ? '' : (nsPrefix + ':');\n        parts.push(['<', nsPrefix, name, '>'].join(''));\n        for (var key in params) {\n            if (!params.hasOwnProperty(key)) {\n                continue;\n            }\n            if (key !== nsAttrName) {\n                var value = params[key];\n                var prefixedKey = (isParts ? '' : nsPrefix) + key;\n                parts.push(['<', prefixedKey, '>'].join(''));\n                parts.push((typeof value === 'object') ? this.objectToXML(value, key, nsPrefix, nsURI) : xmlEscape(value));\n                parts.push(['</', prefixedKey, '>'].join(''));\n            }\n        }\n        parts.push(['</', nsPrefix, name, '>'].join(''));\n        return parts.join('');\n    };\n    /**\n   * Create document style xml string from the parameters\n   * @param {String} name\n   * @param {*} params\n   * @param {String} nsPrefix\n   * @param {String} nsURI\n   * @param {String} type\n   */\n    WSDL.prototype.objectToDocumentXML = function (name, params, nsPrefix, nsURI, type) {\n        var args = {};\n        args[name] = params;\n        var parameterTypeObj = type ? this.findSchemaObject(nsURI, type) : null;\n        return this.objectToXML(args, null, nsPrefix, nsURI, true, null, parameterTypeObj);\n    };\n    WSDL.prototype.isIgnoredNameSpace = function (ns) {\n        return this.options.ignoredNamespaces.indexOf(ns) > -1;\n    };\n    WSDL.prototype.filterOutIgnoredNameSpace = function (ns) {\n        var namespace = noColonNameSpace(ns);\n        return this.isIgnoredNameSpace(namespace) ? '' : namespace;\n    };\n    WSDL.prototype.processAttributes = function (child, nsContext) {\n        var attr = '';\n        if (child === null) {\n            child = [];\n        }\n        var attrObj = child[this.options.attributesKey];\n        if (attrObj && attrObj.xsi_type) {\n            var xsiType = attrObj.xsi_type;\n            var prefix = xsiType.prefix || xsiType.namespace;\n            // Generate a new namespace for complex extension if one not provided\n            if (!prefix) {\n                prefix = nsContext.registerNamespace(xsiType.xmlns);\n            }\n            else {\n                nsContext.declareNamespace(prefix, xsiType.xmlns);\n            }\n            xsiType.prefix = prefix;\n        }\n        if (attrObj) {\n            for (var attrKey in attrObj) {\n                //handle complex extension separately\n                if (attrKey === 'xsi_type') {\n                    var attrValue = attrObj[attrKey];\n                    attr += ' xsi:type=\"' + attrValue.prefix + ':' + attrValue.type + '\"';\n                    attr += ' xmlns:' + attrValue.prefix + '=\"' + attrValue.xmlns + '\"';\n                    continue;\n                }\n                else {\n                    attr += ' ' + attrKey + '=\"' + xmlEscape(attrObj[attrKey]) + '\"';\n                }\n            }\n        }\n        return attr;\n    };\n    WSDL.prototype.findSchemaType = function (name, nsURI) {\n        if (!this.definitions.schemas || !name || !nsURI) {\n            return null;\n        }\n        var schema = this.definitions.schemas[nsURI];\n        if (!schema || !schema.complexTypes) {\n            return null;\n        }\n        return schema.complexTypes[name];\n    };\n    WSDL.prototype.findChildSchemaObject = function (parameterTypeObj, childName, backtrace) {\n        if (backtrace === void 0) { backtrace = []; }\n        if (!parameterTypeObj || !childName) {\n            return null;\n        }\n        if (!backtrace) {\n            backtrace = [];\n        }\n        if (backtrace.indexOf(parameterTypeObj) >= 0) {\n            // We've recursed back to ourselves; break.\n            return null;\n        }\n        else {\n            backtrace = backtrace.concat([parameterTypeObj]);\n        }\n        var found = null, i = 0, child, ref;\n        if (Array.isArray(parameterTypeObj.$lookupTypes) && parameterTypeObj.$lookupTypes.length) {\n            var types = parameterTypeObj.$lookupTypes;\n            for (i = 0; i < types.length; i++) {\n                var typeObj = types[i];\n                if (typeObj.$name === childName) {\n                    found = typeObj;\n                    break;\n                }\n            }\n        }\n        var object = parameterTypeObj;\n        if (object.$name === childName && object.name === 'element') {\n            return object;\n        }\n        if (object.$ref) {\n            ref = splitQName(object.$ref);\n            if (ref.name === childName) {\n                return object;\n            }\n        }\n        var childNsURI;\n        if (object.$type) {\n            var typeInfo = splitQName(object.$type);\n            if (typeInfo.prefix === TNS_PREFIX) {\n                childNsURI = parameterTypeObj.$targetNamespace;\n            }\n            else {\n                childNsURI = this.definitions.xmlns[typeInfo.prefix];\n            }\n            var typeDef = this.findSchemaType(typeInfo.name, childNsURI);\n            if (typeDef) {\n                return this.findChildSchemaObject(typeDef, childName, backtrace);\n            }\n        }\n        if (object.children) {\n            for (i = 0, child; child = object.children[i]; i++) {\n                found = this.findChildSchemaObject(child, childName, backtrace);\n                if (found) {\n                    break;\n                }\n                if (child.$base) {\n                    var baseQName = splitQName(child.$base);\n                    var childNameSpace = baseQName.prefix === TNS_PREFIX ? '' : baseQName.prefix;\n                    childNsURI = this.definitions.xmlns[baseQName.prefix];\n                    var foundBase = this.findSchemaType(baseQName.name, childNsURI);\n                    if (foundBase) {\n                        found = this.findChildSchemaObject(foundBase, childName, backtrace);\n                        if (found) {\n                            found.$baseNameSpace = childNameSpace;\n                            found.$type = childNameSpace + ':' + childName;\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n        if (!found && object.$name === childName) {\n            return object;\n        }\n        return found;\n    };\n    WSDL.prototype.xmlToObject = function (xml, callback) {\n        var self = this;\n        // var p = typeof callback === 'function' ? {} : saxParser(true, {});\n        var p = sax.parser(true, {});\n        var objectName = null;\n        var root = {};\n        var schema = {\n            Envelope: {\n                Header: {\n                    Security: {\n                        UsernameToken: {\n                            Username: 'string',\n                            Password: 'string'\n                        }\n                    }\n                },\n                Body: {\n                    Fault: {\n                        faultcode: 'string',\n                        faultstring: 'string',\n                        detail: 'string'\n                    }\n                }\n            }\n        };\n        var stack = [{ name: null, object: root, schema: schema }];\n        var xmlns = {};\n        var refs = {}, id; // {id:{hrefs:[],obj:}, ...}\n        p.onopentag = function (node) {\n            var nsName = node.name;\n            var attrs = node.attributes;\n            var name = splitQName(nsName).name, attributeName, top = stack[stack.length - 1], topSchema = top.schema, elementAttributes = {}, hasNonXmlnsAttribute = false, hasNilAttribute = false, obj = {};\n            var originalName = name;\n            if (!objectName && top.name === 'Body' && name !== 'Fault') {\n                var message = self.definitions.messages[name];\n                // Support RPC/literal messages where response body contains one element named\n                // after the operation + 'Response'. See http://www.w3.org/TR/wsdl#_names\n                if (!message) {\n                    // Determine if this is request or response\n                    var isInput = false;\n                    var isOutput = false;\n                    if ((/Response$/).test(name)) {\n                        isOutput = true;\n                        name = name.replace(/Response$/, '');\n                    }\n                    else if ((/Request$/).test(name)) {\n                        isInput = true;\n                        name = name.replace(/Request$/, '');\n                    }\n                    else if ((/Solicit$/).test(name)) {\n                        isInput = true;\n                        name = name.replace(/Solicit$/, '');\n                    }\n                    // Look up the appropriate message as given in the portType's operations\n                    var portTypes = self.definitions.portTypes;\n                    var portTypeNames = Object.keys(portTypes);\n                    // Currently this supports only one portType definition.\n                    var portType = portTypes[portTypeNames[0]];\n                    if (isInput) {\n                        name = portType.methods[name].input.$name;\n                    }\n                    else {\n                        name = portType.methods[name].output.$name;\n                    }\n                    message = self.definitions.messages[name];\n                    // 'cache' this alias to speed future lookups\n                    self.definitions.messages[originalName] = self.definitions.messages[name];\n                }\n                topSchema = message.description(self.definitions);\n                objectName = originalName;\n            }\n            if (attrs.href) {\n                id = attrs.href.substr(1);\n                if (!refs[id]) {\n                    refs[id] = { hrefs: [], obj: null };\n                }\n                refs[id].hrefs.push({ par: top.object, key: name, obj: obj });\n            }\n            if (id = attrs.id) {\n                if (!refs[id]) {\n                    refs[id] = { hrefs: [], obj: null };\n                }\n            }\n            //Handle element attributes\n            for (attributeName in attrs) {\n                if (/^xmlns:|^xmlns$/.test(attributeName)) {\n                    xmlns[splitQName(attributeName).name] = attrs[attributeName];\n                    continue;\n                }\n                hasNonXmlnsAttribute = true;\n                elementAttributes[attributeName] = attrs[attributeName];\n            }\n            for (attributeName in elementAttributes) {\n                var res = splitQName(attributeName);\n                if (res.name === 'nil' && xmlns[res.prefix] === 'http://www.w3.org/2001/XMLSchema-instance') {\n                    hasNilAttribute = true;\n                    break;\n                }\n            }\n            if (hasNonXmlnsAttribute) {\n                obj[self.options.attributesKey] = elementAttributes;\n            }\n            // Pick up the schema for the type specified in element's xsi:type attribute.\n            var xsiTypeSchema;\n            var xsiType = elementAttributes['xsi:type'];\n            if (xsiType) {\n                var type = splitQName(xsiType);\n                var typeURI;\n                if (type.prefix === TNS_PREFIX) {\n                    // In case of xsi:type = \"MyType\"\n                    typeURI = xmlns[type.prefix] || xmlns.xmlns;\n                }\n                else {\n                    typeURI = xmlns[type.prefix];\n                }\n                var typeDef = self.findSchemaObject(typeURI, type.name);\n                if (typeDef) {\n                    xsiTypeSchema = typeDef.description(self.definitions);\n                }\n            }\n            if (topSchema && topSchema[name + '[]']) {\n                name = name + '[]';\n            }\n            stack.push({ name: originalName, object: obj, schema: (xsiTypeSchema || (topSchema && topSchema[name])), id: attrs.id, nil: hasNilAttribute });\n        };\n        p.onclosetag = function (nsName) {\n            var cur = stack.pop(), obj = cur.object, top = stack[stack.length - 1], topObject = top.object, topSchema = top.schema, name = splitQName(nsName).name;\n            if (typeof cur.schema === 'string' && (cur.schema === 'string' || cur.schema.split(':')[1] === 'string')) {\n                if (typeof obj === 'object' && Object.keys(obj).length === 0)\n                    obj = cur.object = '';\n            }\n            if (cur.nil === true) {\n                return;\n            }\n            if (_.isPlainObject(obj) && !Object.keys(obj).length) {\n                obj = null;\n            }\n            if (topSchema && topSchema[name + '[]']) {\n                if (!topObject[name]) {\n                    topObject[name] = [];\n                }\n                topObject[name].push(obj);\n            }\n            else if (name in topObject) {\n                if (!Array.isArray(topObject[name])) {\n                    topObject[name] = [topObject[name]];\n                }\n                topObject[name].push(obj);\n            }\n            else {\n                topObject[name] = obj;\n            }\n            if (cur.id) {\n                refs[cur.id].obj = obj;\n            }\n        };\n        p.oncdata = function (text) {\n            text = trim(text);\n            if (!text.length) {\n                return;\n            }\n            if (/<\\?xml[\\s\\S]+\\?>/.test(text)) {\n                var top = stack[stack.length - 1];\n                var value = self.xmlToObject(text);\n                if (top.object[self.options.attributesKey]) {\n                    top.object[self.options.valueKey] = value;\n                }\n                else {\n                    top.object = value;\n                }\n            }\n            else {\n                p.ontext(text);\n            }\n        };\n        p.onerror = function (e) {\n            p.resume();\n            throw {\n                Fault: {\n                    faultcode: 500,\n                    faultstring: 'Invalid XML',\n                    detail: new Error(e.message).message,\n                    statusCode: 500\n                }\n            };\n        };\n        p.ontext = function (text) {\n            text = trim(text);\n            if (!text.length) {\n                return;\n            }\n            var top = stack[stack.length - 1];\n            var name = splitQName(top.schema).name, value;\n            if (self.options && self.options.customDeserializer && self.options.customDeserializer[name]) {\n                value = self.options.customDeserializer[name](text, top);\n            }\n            else {\n                if (name === 'int' || name === 'integer') {\n                    value = parseInt(text, 10);\n                }\n                else if (name === 'bool' || name === 'boolean') {\n                    value = text.toLowerCase() === 'true' || text === '1';\n                }\n                else if (name === 'dateTime' || name === 'date') {\n                    value = new Date(text);\n                }\n                else {\n                    // handle string or other types\n                    if (typeof top.object !== 'string') {\n                        value = text;\n                    }\n                    else {\n                        value = top.object + text;\n                    }\n                }\n            }\n            if (top.object[self.options.attributesKey]) {\n                top.object[self.options.valueKey] = value;\n            }\n            else {\n                top.object = value;\n            }\n        };\n        if (typeof callback === 'function') {\n            // we be streaming\n            var saxStream = sax.createStream(true, {});\n            saxStream.on('opentag', p.onopentag);\n            saxStream.on('closetag', p.onclosetag);\n            saxStream.on('cdata', p.oncdata);\n            saxStream.on('text', p.ontext);\n            xml.pipe(saxStream)\n                .on('error', function (err) {\n                callback(err);\n            })\n                .on('end', function () {\n                var r;\n                try {\n                    r = finish();\n                }\n                catch (e) {\n                    return callback(e);\n                }\n                callback(null, r);\n            });\n            return;\n        }\n        p.write(xml).close();\n        return finish();\n        function finish() {\n            // MultiRef support: merge objects instead of replacing\n            for (var n in refs) {\n                var ref = refs[n];\n                for (var i = 0; i < ref.hrefs.length; i++) {\n                    _.assign(ref.hrefs[i].obj, ref.obj);\n                }\n            }\n            if (root.Envelope) {\n                var body = root.Envelope.Body;\n                if (body && body.Fault) {\n                    var code = body.Fault && body.Fault.faultcode && body.Fault.faultcode.$value ? body.Fault.faultcode.$value : body.Fault && body.Fault.faultcode;\n                    // selectn('faultcode.$value', body.Fault) || selectn('faultcode', body.Fault);\n                    var string = body.Fault && body.Fault.faultstring && body.Fault.faultstring.$value ? body.Fault.faultstring.$value : body.Fault && body.Fault.faultstring;\n                    // selectn('faultstring.$value', body.Fault) || selectn('faultstring', body.Fault);\n                    var detail = body.Fault && body.Fault.detail && body.Fault.detail.$value ? body.Fault.detail.$value : body.Fault && body.Fault.detail && body.Fault.detail.message;\n                    // selectn('detail.$value', body.Fault) || selectn('detail.message', body.Fault);\n                    var error = new Error(code + ': ' + string + (detail ? ': ' + detail : ''));\n                    error.root = root;\n                    throw error;\n                }\n                return root.Envelope;\n            }\n            return root;\n        }\n    };\n    WSDL.prototype._processNextInclude = function (includes) {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            resolve(_this.definitions);\n            // var include = includes.shift();\n            // var options;\n            // if (!include) { resolve(this.definitions) }\n            // var includePath = resolveUrl(this.uri || '', include.location);\n            // options = _.assign({}, this.options);\n            // // follow supplied ignoredNamespaces option\n            // options.ignoredNamespaces = this._originalIgnoredNamespaces || this.options.ignoredNamespaces;\n            // return openWsdl(includePath, options)\n            //   .then(wsdl => {\n            //     this._includesWsdl.push(wsdl);\n            //     if (wsdl.definitions instanceof DefinitionsElement) {\n            //       _.merge(this.definitions, wsdl.definitions, function (a: any, b: any) {\n            //         return (a instanceof SchemaElement) ? a.merge(b) : undefined;\n            //       });\n            //     } else {\n            //       this.definitions.schemas[include.namespace || wsdl.definitions.$targetNamespace] = deepMerge(this.definitions.schemas[include.namespace || wsdl.definitions.$targetNamespace], wsdl.definitions);\n            //     }\n            //     return this._processNextInclude(includes);\n            //   })\n            //   .catch(err => reject(err));\n        });\n    };\n    WSDL.prototype._initializeOptions = function (options) {\n        this._originalIgnoredNamespaces = (options || {}).ignoredNamespaces;\n        this.options = {};\n        var ignoredNamespaces = options ? options.ignoredNamespaces : null;\n        if (ignoredNamespaces &&\n            (Array.isArray(ignoredNamespaces.namespaces) || typeof ignoredNamespaces.namespaces === 'string')) {\n            if (ignoredNamespaces.override) {\n                this.options.ignoredNamespaces = ignoredNamespaces.namespaces;\n            }\n            else {\n                this.options.ignoredNamespaces = this.ignoredNamespaces.concat(ignoredNamespaces.namespaces);\n            }\n        }\n        else {\n            this.options.ignoredNamespaces = this.ignoredNamespaces;\n        }\n        this.options.valueKey = options.valueKey || this.valueKey;\n        this.options.xmlKey = options.xmlKey || this.xmlKey;\n        if (options.escapeXML !== undefined) {\n            this.options.escapeXML = options.escapeXML;\n        }\n        else {\n            this.options.escapeXML = true;\n        }\n        // Allow any request headers to keep passing through\n        this.options.wsdl_headers = options.wsdl_headers;\n        this.options.wsdl_options = options.wsdl_options;\n        if (options.httpClient) {\n            this.options.httpClient = options.httpClient;\n        }\n        // // The supplied request-object should be passed through\n        // if (options.request) {\n        //   this.options.request = options.request;\n        // }\n        var ignoreBaseNameSpaces = options ? options.ignoreBaseNameSpaces : null;\n        if (ignoreBaseNameSpaces !== null && typeof ignoreBaseNameSpaces !== 'undefined') {\n            this.options.ignoreBaseNameSpaces = ignoreBaseNameSpaces;\n        }\n        else {\n            this.options.ignoreBaseNameSpaces = this.ignoreBaseNameSpaces;\n        }\n        // Works only in client\n        this.options.forceSoap12Headers = options.forceSoap12Headers;\n        this.options.customDeserializer = options.customDeserializer;\n        if (options.overrideRootElement !== undefined) {\n            this.options.overrideRootElement = options.overrideRootElement;\n        }\n    };\n    WSDL.prototype._fromXML = function (xml) {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            _this.definitions = _this._parse(xml);\n            _this.definitions.descriptions = {\n                types: {}\n            };\n            _this.xml = xml;\n            resolve(_this.definitions);\n        });\n    };\n    WSDL.prototype._parse = function (xml) {\n        var self = this, p = sax.parser(true, {}), stack = [], root = null, types = null, schema = null, options = self.options;\n        p.onopentag = function (node) {\n            var nsName = node.name;\n            var attrs = node.attributes;\n            var top = stack[stack.length - 1];\n            var name;\n            if (top) {\n                try {\n                    stack = top.startElement(stack, nsName, attrs, options);\n                }\n                catch (e) {\n                    if (self.options.strict) {\n                        throw e;\n                    }\n                    else {\n                        stack.push(new Element(nsName, attrs, options));\n                    }\n                }\n            }\n            else {\n                name = splitQName(nsName).name;\n                if (name === 'definitions') {\n                    root = new DefinitionsElement(nsName, attrs, options);\n                    stack.push(root);\n                }\n                else if (name === 'schema') {\n                    // Shim a structure in here to allow the proper objects to be created when merging back.\n                    root = new DefinitionsElement('definitions', {}, {});\n                    types = new TypesElement('types', {}, {});\n                    schema = new SchemaElement(nsName, attrs, options);\n                    types.addChild(schema);\n                    root.addChild(types);\n                    stack.push(schema);\n                }\n                else {\n                    throw new Error('Unexpected root element of WSDL or include');\n                }\n            }\n        };\n        p.onclosetag = function (name) {\n            var top = stack[stack.length - 1];\n            // assert(top, 'Unmatched close tag: ' + name);\n            stack = top.endElement(stack, name);\n        };\n        p.write(xml).close();\n        return root;\n    };\n    WSDL.prototype._xmlnsMap = function () {\n        var xmlns = this.definitions.xmlns;\n        var str = '';\n        for (var alias in xmlns) {\n            if (alias === '' || alias === TNS_PREFIX) {\n                continue;\n            }\n            var ns = xmlns[alias];\n            switch (ns) {\n                case \"http://xml.apache.org/xml-soap\": // apachesoap\n                case \"http://schemas.xmlsoap.org/wsdl/\": // wsdl\n                case \"http://schemas.xmlsoap.org/wsdl/soap/\": // wsdlsoap\n                case \"http://schemas.xmlsoap.org/wsdl/soap12/\": // wsdlsoap12\n                case \"http://schemas.xmlsoap.org/soap/encoding/\": // soapenc\n                case \"http://www.w3.org/2001/XMLSchema\":\n                    continue;\n            }\n            if (~ns.indexOf('http://schemas.xmlsoap.org/')) {\n                continue;\n            }\n            if (~ns.indexOf('http://www.w3.org/')) {\n                continue;\n            }\n            if (~ns.indexOf('http://xml.apache.org/')) {\n                continue;\n            }\n            str += ' xmlns:' + alias + '=\"' + ns + '\"';\n        }\n        return str;\n    };\n    return WSDL;\n}());\nexport { WSDL };\nvar Element = (function () {\n    function Element(nsName, attrs, options) {\n        if (attrs === void 0) { attrs = {}; }\n        if (options === void 0) { options = {}; }\n        this.children = [];\n        this.allowedChildren = {};\n        this.includes = [];\n        this.methods = {};\n        this.ports = {};\n        var parts = splitQName(nsName);\n        this.nsName = nsName;\n        this.prefix = parts.prefix;\n        this.name = parts.name;\n        this.children = [];\n        this.xmlns = {};\n        this._initializeOptions(options);\n        for (var key in attrs) {\n            var match = /^xmlns:?(.*)$/.exec(key);\n            if (match) {\n                this.xmlns[match[1] ? match[1] : TNS_PREFIX] = attrs[key];\n            }\n            else {\n                if (key === 'value') {\n                    this[this.valueKey] = attrs[key];\n                }\n                else {\n                    this['$' + key] = attrs[key];\n                }\n            }\n        }\n        if (this.$targetNamespace !== undefined) {\n            // Add targetNamespace to the mapping\n            this.xmlns[TNS_PREFIX] = this.$targetNamespace;\n        }\n        // this.allowedChildren = mapElementTypes(splitQName(nsName).name);\n    }\n    Element.prototype._initializeOptions = function (options) {\n        if (options) {\n            this.valueKey = options.valueKey || '$value';\n            this.xmlKey = options.xmlKey || '$xml';\n            this.ignoredNamespaces = options.ignoredNamespaces || [];\n        }\n        else {\n            this.valueKey = '$value';\n            this.xmlKey = '$xml';\n            this.ignoredNamespaces = [];\n        }\n    };\n    ;\n    Element.prototype.deleteFixedAttrs = function () {\n        this.children && this.children.length === 0 && delete this.children;\n        this.xmlns && Object.keys(this.xmlns).length === 0 && delete this.xmlns;\n        delete this.nsName;\n        delete this.prefix;\n        delete this.name;\n    };\n    ;\n    Element.prototype.startElement = function (stack, nsName, attrs, options) {\n        // if (!this.allowedChildren) {\n        //   return;\n        // }\n        // let ChildClass = this.allowedChildren[splitQName(nsName).name];\n        // let element = null;\n        // if (ChildClass) {\n        //   stack.push(new ChildClass(nsName, attrs, options));\n        // }\n        // else {\n        //   this.unexpected(nsName);\n        // }\n        var ChildClass = ElementTypeMap[splitQName(nsName).name][0];\n        if (ChildClass) {\n            stack.push(new ChildClass(nsName, attrs, options));\n        }\n        ;\n        return stack;\n    };\n    Element.prototype.unexpected = function (name) {\n        throw new Error('Found unexpected element (' + name + ') inside ' + this.nsName);\n    };\n    Element.prototype.endElement = function (stack, nsName) {\n        if (this.nsName === nsName) {\n            if (stack.length < 2)\n                return;\n            var parent = stack[stack.length - 2];\n            if (this !== stack[0]) {\n                _.defaultsDeep(stack[0].xmlns, this.xmlns);\n                // delete this.xmlns;\n                parent.children.push(this);\n                parent.addChild(this);\n            }\n            stack.pop();\n        }\n        return stack;\n    };\n    Element.prototype.addChild = function (child) { return; };\n    Element.prototype.description = function (definitions, xmlns) {\n        if (definitions === void 0) { definitions = {}; }\n        return this.$name || this.name;\n    };\n    Element.prototype.init = function () {\n    };\n    return Element;\n}());\nvar MessageElement = (function (_super) {\n    __extends(MessageElement, _super);\n    function MessageElement(nsName, attrs, options) {\n        if (attrs === void 0) { attrs = {}; }\n        if (options === void 0) { options = {}; }\n        var _this = _super.call(this, nsName, attrs, options) || this;\n        _this.init();\n        return _this;\n    }\n    MessageElement.prototype.init = function () {\n        this.element = null;\n        this.parts = null;\n    };\n    MessageElement.prototype.description = function (definitions, xmlns) {\n        if (definitions === void 0) { definitions = {}; }\n        if (this.element) {\n            return this.element && this.element.description(definitions);\n        }\n        var desc = {};\n        desc[this.$name] = this.parts;\n        return desc;\n    };\n    MessageElement.prototype.postProcess = function (definitions) {\n        var part = null;\n        var child;\n        var children = this.children || [];\n        var ns;\n        var nsName;\n        var i;\n        var type;\n        for (i in children) {\n            if ((child = children[i]).name === 'part') {\n                part = child;\n                break;\n            }\n        }\n        if (!part) {\n            return;\n        }\n        if (part.$element) {\n            var lookupTypes = [], elementChildren;\n            delete this.parts;\n            nsName = splitQName(part.$element);\n            ns = nsName.prefix;\n            var schema = definitions.schemas[definitions.xmlns[ns]];\n            this.element = schema.elements[nsName.name];\n            if (!this.element) {\n                return;\n            }\n            this.element.targetNSAlias = ns;\n            this.element.targetNamespace = definitions.xmlns[ns];\n            // set the optional $lookupType to be used within `client#_invoke()` when\n            // calling `wsdl#objectToDocumentXML()\n            this.element.$lookupType = part.$element;\n            elementChildren = this.element.children;\n            // get all nested lookup types (only complex types are followed)\n            if (elementChildren.length > 0) {\n                for (i = 0; i < elementChildren.length; i++) {\n                    lookupTypes.push(this._getNestedLookupTypeString(elementChildren[i]));\n                }\n            }\n            // if nested lookup types where found, prepare them for furter usage\n            if (lookupTypes.length > 0) {\n                lookupTypes = lookupTypes.\n                    join('_').\n                    split('_').\n                    filter(function removeEmptyLookupTypes(type) {\n                    return type !== '^';\n                });\n                var schemaXmlns = definitions.schemas[this.element.targetNamespace].xmlns;\n                for (i = 0; i < lookupTypes.length; i++) {\n                    lookupTypes[i] = this._createLookupTypeObject(lookupTypes[i], schemaXmlns);\n                }\n            }\n            this.element.$lookupTypes = lookupTypes;\n            if (this.element.$type) {\n                type = splitQName(this.element.$type);\n                var typeNs = schema.xmlns && schema.xmlns[type.prefix] || definitions.xmlns[type.prefix];\n                if (typeNs) {\n                    if (type.name in Primitives) {\n                        // this.element = this.element.$type;\n                    }\n                    else {\n                        // first check local mapping of ns alias to namespace\n                        schema = definitions.schemas[typeNs];\n                        var ctype = schema.complexTypes[type.name] || schema.types[type.name] || schema.elements[type.name];\n                        if (ctype) {\n                            this.parts = ctype.description(definitions, schema.xmlns);\n                        }\n                    }\n                }\n            }\n            else {\n                var method = this.element.description(definitions, schema.xmlns);\n                this.parts = method[nsName.name];\n            }\n            this.children.splice(0, 1);\n        }\n        else {\n            // rpc encoding\n            this.parts = {};\n            delete this.element;\n            for (i = 0; part = this.children[i]; i++) {\n                if (part.name === 'documentation') {\n                    // <wsdl:documentation can be present under <wsdl:message>\n                    continue;\n                }\n                //assert(part.name === 'part', 'Expected part element');\n                nsName = splitQName(part.$type);\n                ns = definitions.xmlns[nsName.prefix];\n                type = nsName.name;\n                var schemaDefinition = definitions.schemas[ns];\n                if (typeof schemaDefinition !== 'undefined') {\n                    this.parts[part.$name] = definitions.schemas[ns].types[type] || definitions.schemas[ns].complexTypes[type];\n                }\n                else {\n                    this.parts[part.$name] = part.$type;\n                }\n                if (typeof this.parts[part.$name] === 'object') {\n                    this.parts[part.$name].prefix = nsName.prefix;\n                    this.parts[part.$name].xmlns = ns;\n                }\n                this.children.splice(i--, 1);\n            }\n        }\n        this.deleteFixedAttrs();\n    };\n    MessageElement.prototype._createLookupTypeObject = function (nsString, xmlns) {\n        var splittedNSString = splitQName(nsString), nsAlias = splittedNSString.prefix, splittedName = splittedNSString.name.split('#'), type = splittedName[0], name = splittedName[1], lookupTypeObj = {};\n        lookupTypeObj.$namespace = xmlns[nsAlias];\n        lookupTypeObj.$type = nsAlias + ':' + type;\n        lookupTypeObj.$name = name;\n        return lookupTypeObj;\n    };\n    MessageElement.prototype._getNestedLookupTypeString = function (element) {\n        var _this = this;\n        var resolvedType = '^', excluded = this.ignoredNamespaces.concat('xs'); // do not process $type values wich start with\n        if (element.hasOwnProperty('$type') && typeof element.$type === 'string') {\n            if (excluded.indexOf(element.$type.split(':')[0]) === -1) {\n                resolvedType += ('_' + element.$type + '#' + element.$name);\n            }\n        }\n        if (element.children.length > 0) {\n            element.children.forEach(function (child) {\n                var resolvedChildType = _this._getNestedLookupTypeString(child).replace(/\\^_/, '');\n                if (resolvedChildType && typeof resolvedChildType === 'string') {\n                    resolvedType += ('_' + resolvedChildType);\n                }\n            });\n        }\n        return resolvedType;\n    };\n    return MessageElement;\n}(Element));\nvar SchemaElement = (function (_super) {\n    __extends(SchemaElement, _super);\n    function SchemaElement(nsName, attrs, options) {\n        if (attrs === void 0) { attrs = {}; }\n        if (options === void 0) { options = {}; }\n        var _this = _super.call(this, nsName, attrs, options) || this;\n        _this.init();\n        return _this;\n    }\n    SchemaElement.prototype.init = function () {\n        this.complexTypes = {};\n        this.types = {};\n        this.elements = {};\n        this.includes = [];\n    };\n    SchemaElement.prototype.merge = function (source) {\n        //assert(source instanceof SchemaElement);\n        if (this.$targetNamespace === source.$targetNamespace) {\n            _.merge(this.complexTypes, source.complexTypes);\n            _.merge(this.types, source.types);\n            _.merge(this.elements, source.elements);\n            _.merge(this.xmlns, source.xmlns);\n        }\n        return this;\n    };\n    SchemaElement.prototype.addChild = function (child) {\n        if (child.$name in Primitives)\n            return;\n        if (child.name === 'include' || child.name === 'import') {\n            var location = child.$schemaLocation || child.$location;\n            if (location) {\n                this.includes.push({\n                    namespace: child.$namespace || child.$targetNamespace || this.$targetNamespace,\n                    location: location\n                });\n            }\n        }\n        else if (child.name === 'complexType') {\n            this.complexTypes[child.$name] = child;\n        }\n        else if (child.name === 'element') {\n            this.elements[child.$name] = child;\n        }\n        else if (child.$name) {\n            this.types[child.$name] = child;\n        }\n        this.children.pop();\n    };\n    return SchemaElement;\n}(Element));\nvar TypesElement = (function (_super) {\n    __extends(TypesElement, _super);\n    function TypesElement(nsName, attrs, options) {\n        if (attrs === void 0) { attrs = {}; }\n        if (options === void 0) { options = {}; }\n        var _this = _super.call(this, nsName, attrs, options) || this;\n        _this.init();\n        return _this;\n    }\n    TypesElement.prototype.init = function () {\n        this.schemas = {};\n    };\n    TypesElement.prototype.addChild = function (child) {\n        //assert(child instanceof SchemaElement);\n        var targetNamespace = child.$targetNamespace;\n        if (!this.schemas.hasOwnProperty(targetNamespace)) {\n            this.schemas[targetNamespace] = child;\n        }\n        else {\n            console.error('Target-Namespace \"' + targetNamespace + '\" already in use by another Schema!');\n        }\n    };\n    return TypesElement;\n}(Element));\nvar ElementElement = (function (_super) {\n    __extends(ElementElement, _super);\n    function ElementElement(nsName, attrs, options) {\n        if (attrs === void 0) { attrs = {}; }\n        if (options === void 0) { options = {}; }\n        var _this = _super.call(this, nsName, attrs, options) || this;\n        _this.init();\n        return _this;\n    }\n    ElementElement.prototype.description = function (definitions, xmlns) {\n        if (definitions === void 0) { definitions = {}; }\n        var element = {}, name = this.$name;\n        var isMany = !this.$maxOccurs ? false : (isNaN(this.$maxOccurs) ? (this.$maxOccurs === 'unbounded') : (this.$maxOccurs > 1));\n        if (this.$minOccurs !== this.$maxOccurs && isMany) {\n            name += '[]';\n        }\n        if (xmlns && xmlns[TNS_PREFIX]) {\n            this.$targetNamespace = xmlns[TNS_PREFIX];\n        }\n        var type = this.$type || this.$ref;\n        if (type) {\n            type = splitQName(type);\n            var typeName = type.name, ns = xmlns && xmlns[type.prefix] || definitions.xmlns[type.prefix], schema = definitions.schemas[ns], typeElement = schema && (this.$type ? schema.complexTypes[typeName] || schema.types[typeName] : schema.elements[typeName]);\n            if (ns && definitions.schemas[ns]) {\n                xmlns = definitions.schemas[ns].xmlns;\n            }\n            if (typeElement && !(typeName in Primitives)) {\n                if (!(typeName in definitions.descriptions.types)) {\n                    var elem = {};\n                    definitions.descriptions.types[typeName] = elem;\n                    var description = typeElement.description(definitions, xmlns);\n                    if (typeof description === 'string') {\n                        elem = description;\n                    }\n                    else {\n                        Object.keys(description).forEach(function (key) {\n                            elem[key] = description[key];\n                        });\n                    }\n                    if (this.$ref) {\n                        element = elem;\n                    }\n                    else {\n                        element[name] = elem;\n                    }\n                    if (typeof elem === 'object') {\n                        elem.targetNSAlias = type.prefix;\n                        elem.targetNamespace = ns;\n                    }\n                    definitions.descriptions.types[typeName] = elem;\n                }\n                else {\n                    if (this.$ref) {\n                        element = definitions.descriptions.types[typeName];\n                    }\n                    else {\n                        element[name] = definitions.descriptions.types[typeName];\n                    }\n                }\n            }\n            else {\n                element[name] = this.$type;\n            }\n        }\n        else {\n            var children = this.children;\n            element[name] = {};\n            for (var i = 0, child; child = children[i]; i++) {\n                if (child instanceof ComplexTypeElement) {\n                    element[name] = child.description(definitions, xmlns);\n                }\n            }\n        }\n        return element;\n    };\n    return ElementElement;\n}(Element));\nvar AnyElement = (function (_super) {\n    __extends(AnyElement, _super);\n    function AnyElement(nsName, attrs, options) {\n        if (attrs === void 0) { attrs = {}; }\n        if (options === void 0) { options = {}; }\n        var _this = _super.call(this, nsName, attrs, options) || this;\n        _this.init();\n        return _this;\n    }\n    AnyElement.prototype.description = function (definitions, xmlns) {\n        if (definitions === void 0) { definitions = {}; }\n        var children = this.children;\n        var sequence = {};\n        for (var i = 0, child; child = children[i]; i++) {\n            if (child instanceof AnyElement) {\n                continue;\n            }\n            var description = child.description(definitions, xmlns);\n            for (var key in description) {\n                sequence[key] = description[key];\n            }\n        }\n        return sequence;\n    };\n    return AnyElement;\n}(Element));\nvar InputElement = (function (_super) {\n    __extends(InputElement, _super);\n    function InputElement(nsName, attrs, options) {\n        if (attrs === void 0) { attrs = {}; }\n        if (options === void 0) { options = {}; }\n        var _this = _super.call(this, nsName, attrs, options) || this;\n        _this.init();\n        return _this;\n    }\n    InputElement.prototype.addChild = function (child) {\n        if (child.name === 'body') {\n            this.use = child.$use;\n            if (this.use === 'encoded') {\n                this.encodingStyle = child.$encodingStyle;\n            }\n            this.children.pop();\n        }\n    };\n    return InputElement;\n}(Element));\nvar OutputElement = (function (_super) {\n    __extends(OutputElement, _super);\n    function OutputElement(nsName, attrs, options) {\n        if (attrs === void 0) { attrs = {}; }\n        if (options === void 0) { options = {}; }\n        var _this = _super.call(this, nsName, attrs, options) || this;\n        _this.init();\n        return _this;\n    }\n    OutputElement.prototype.addChild = function (child) {\n        if (child.name === 'body') {\n            this.use = child.$use;\n            if (this.use === 'encoded') {\n                this.encodingStyle = child.$encodingStyle;\n            }\n            this.children.pop();\n        }\n    };\n    return OutputElement;\n}(Element));\nvar SimpleTypeElement = (function (_super) {\n    __extends(SimpleTypeElement, _super);\n    function SimpleTypeElement(nsName, attrs, options) {\n        if (attrs === void 0) { attrs = {}; }\n        if (options === void 0) { options = {}; }\n        var _this = _super.call(this, nsName, attrs, options) || this;\n        _this.init();\n        return _this;\n    }\n    SimpleTypeElement.prototype.description = function (definitions, xmlns) {\n        if (definitions === void 0) { definitions = {}; }\n        var children = this.children;\n        for (var i = 0, child; child = children[i]; i++) {\n            if (child instanceof RestrictionElement)\n                return this.$name + \"|\" + child.description();\n        }\n        return {};\n    };\n    return SimpleTypeElement;\n}(Element));\nvar RestrictionElement = (function (_super) {\n    __extends(RestrictionElement, _super);\n    function RestrictionElement(nsName, attrs, options) {\n        if (attrs === void 0) { attrs = {}; }\n        if (options === void 0) { options = {}; }\n        var _this = _super.call(this, nsName, attrs, options) || this;\n        _this.init();\n        return _this;\n    }\n    RestrictionElement.prototype.description = function (definitions, xmlns) {\n        if (definitions === void 0) { definitions = {}; }\n        var children = this.children;\n        var desc;\n        for (var i = 0, child; child = children[i]; i++) {\n            if (child instanceof SequenceElement ||\n                child instanceof ChoiceElement) {\n                desc = child.description(definitions, xmlns);\n                break;\n            }\n        }\n        if (desc && this.$base) {\n            var type = splitQName(this.$base), typeName = type.name, ns = xmlns && xmlns[type.prefix] || definitions.xmlns[type.prefix], schema = definitions.schemas[ns], typeElement = schema && (schema.complexTypes[typeName] || schema.types[typeName] || schema.elements[typeName]);\n            desc.getBase = function () {\n                return typeElement.description(definitions, schema.xmlns);\n            };\n            return desc;\n        }\n        // then simple element\n        var base = this.$base ? this.$base + \"|\" : \"\";\n        return base + this.children.map(function (child) {\n            return child.description();\n        }).join(\",\");\n    };\n    return RestrictionElement;\n}(Element));\nvar ExtensionElement = (function (_super) {\n    __extends(ExtensionElement, _super);\n    function ExtensionElement(nsName, attrs, options) {\n        if (attrs === void 0) { attrs = {}; }\n        if (options === void 0) { options = {}; }\n        var _this = _super.call(this, nsName, attrs, options) || this;\n        _this.init();\n        return _this;\n    }\n    ExtensionElement.prototype.description = function (definitions, xmlns) {\n        if (definitions === void 0) { definitions = {}; }\n        var children = this.children;\n        var desc = {};\n        for (var i = 0, child; child = children[i]; i++) {\n            if (child instanceof SequenceElement ||\n                child instanceof ChoiceElement) {\n                desc = child.description(definitions, xmlns);\n            }\n        }\n        if (this.$base) {\n            var type = splitQName(this.$base), typeName = type.name, ns = xmlns && xmlns[type.prefix] || definitions.xmlns[type.prefix], schema = definitions.schemas[ns];\n            if (typeName in Primitives) {\n                return this.$base;\n            }\n            else {\n                var typeElement = schema && (schema.complexTypes[typeName] ||\n                    schema.types[typeName] || schema.elements[typeName]);\n                if (typeElement) {\n                    var base = typeElement.description(definitions, schema.xmlns);\n                    desc = _.defaultsDeep(base, desc);\n                }\n            }\n        }\n        return desc;\n    };\n    return ExtensionElement;\n}(Element));\nvar ChoiceElement = (function (_super) {\n    __extends(ChoiceElement, _super);\n    function ChoiceElement(nsName, attrs, options) {\n        if (attrs === void 0) { attrs = {}; }\n        if (options === void 0) { options = {}; }\n        var _this = _super.call(this, nsName, attrs, options) || this;\n        _this.init();\n        return _this;\n    }\n    ChoiceElement.prototype.description = function (definitions, xmlns) {\n        if (definitions === void 0) { definitions = {}; }\n        var children = this.children;\n        var choice = {};\n        for (var i = 0, child; child = children[i]; i++) {\n            var description = child.description(definitions, xmlns);\n            for (var key in description) {\n                choice[key] = description[key];\n            }\n        }\n        return choice;\n    };\n    return ChoiceElement;\n}(Element));\nvar EnumerationElement = (function (_super) {\n    __extends(EnumerationElement, _super);\n    function EnumerationElement(nsName, attrs, options) {\n        if (attrs === void 0) { attrs = {}; }\n        if (options === void 0) { options = {}; }\n        var _this = _super.call(this, nsName, attrs, options) || this;\n        _this.init();\n        return _this;\n    }\n    EnumerationElement.prototype.description = function (definitions, xmlns) {\n        if (definitions === void 0) { definitions = {}; }\n        return this[this.valueKey];\n    };\n    return EnumerationElement;\n}(Element));\nvar ComplexTypeElement = (function (_super) {\n    __extends(ComplexTypeElement, _super);\n    function ComplexTypeElement(nsName, attrs, options) {\n        if (attrs === void 0) { attrs = {}; }\n        if (options === void 0) { options = {}; }\n        var _this = _super.call(this, nsName, attrs, options) || this;\n        _this.init();\n        return _this;\n    }\n    ComplexTypeElement.prototype.description = function (definitions, xmlns) {\n        if (definitions === void 0) { definitions = {}; }\n        var children = this.children || [];\n        for (var i = 0, child; child = children[i]; i++) {\n            if (child instanceof ChoiceElement ||\n                child instanceof SequenceElement ||\n                child instanceof AllElement ||\n                child instanceof SimpleContentElement ||\n                child instanceof ComplexContentElement) {\n                return child.description(definitions, xmlns);\n            }\n        }\n        return {};\n    };\n    return ComplexTypeElement;\n}(Element));\nvar ComplexContentElement = (function (_super) {\n    __extends(ComplexContentElement, _super);\n    function ComplexContentElement(nsName, attrs, options) {\n        if (attrs === void 0) { attrs = {}; }\n        if (options === void 0) { options = {}; }\n        var _this = _super.call(this, nsName, attrs, options) || this;\n        _this.init();\n        return _this;\n    }\n    ComplexContentElement.prototype.description = function (definitions, xmlns) {\n        if (definitions === void 0) { definitions = {}; }\n        var children = this.children;\n        for (var i = 0, child; child = children[i]; i++) {\n            if (child instanceof ExtensionElement) {\n                return child.description(definitions, xmlns);\n            }\n        }\n        return {};\n    };\n    return ComplexContentElement;\n}(Element));\nvar SimpleContentElement = (function (_super) {\n    __extends(SimpleContentElement, _super);\n    function SimpleContentElement(nsName, attrs, options) {\n        if (attrs === void 0) { attrs = {}; }\n        if (options === void 0) { options = {}; }\n        var _this = _super.call(this, nsName, attrs, options) || this;\n        _this.init();\n        return _this;\n    }\n    SimpleContentElement.prototype.description = function (definitions, xmlns) {\n        if (definitions === void 0) { definitions = {}; }\n        var children = this.children;\n        for (var i = 0, child; child = children[i]; i++) {\n            if (child instanceof ExtensionElement) {\n                return child.description(definitions, xmlns);\n            }\n        }\n        return {};\n    };\n    return SimpleContentElement;\n}(Element));\nvar SequenceElement = (function (_super) {\n    __extends(SequenceElement, _super);\n    function SequenceElement(nsName, attrs, options) {\n        if (attrs === void 0) { attrs = {}; }\n        if (options === void 0) { options = {}; }\n        var _this = _super.call(this, nsName, attrs, options) || this;\n        _this.init();\n        return _this;\n    }\n    SequenceElement.prototype.description = function (definitions, xmlns) {\n        if (definitions === void 0) { definitions = {}; }\n        var children = this.children;\n        var sequence = {};\n        for (var i = 0, child; child = children[i]; i++) {\n            if (child instanceof AnyElement) {\n                continue;\n            }\n            var description = child.description(definitions, xmlns);\n            for (var key in description) {\n                sequence[key] = description[key];\n            }\n        }\n        return sequence;\n    };\n    return SequenceElement;\n}(Element));\nvar AllElement = (function (_super) {\n    __extends(AllElement, _super);\n    function AllElement(nsName, attrs, options) {\n        if (attrs === void 0) { attrs = {}; }\n        if (options === void 0) { options = {}; }\n        var _this = _super.call(this, nsName, attrs, options) || this;\n        _this.init();\n        return _this;\n    }\n    AllElement.prototype.description = function (definitions, xmlns) {\n        if (definitions === void 0) { definitions = {}; }\n        var children = this.children;\n        var sequence = {};\n        for (var i = 0, child; child = children[i]; i++) {\n            if (child instanceof AnyElement) {\n                continue;\n            }\n            var description = child.description(definitions, xmlns);\n            for (var key in description) {\n                sequence[key] = description[key];\n            }\n        }\n        return sequence;\n    };\n    return AllElement;\n}(Element));\nvar OperationElement = (function (_super) {\n    __extends(OperationElement, _super);\n    function OperationElement(nsName, attrs, options) {\n        if (attrs === void 0) { attrs = {}; }\n        if (options === void 0) { options = {}; }\n        var _this = _super.call(this, nsName, attrs, options) || this;\n        _this.init();\n        return _this;\n    }\n    OperationElement.prototype.init = function () {\n        this.input = null;\n        this.output = null;\n        this.inputSoap = null;\n        this.outputSoap = null;\n        this.style = '';\n        this.soapAction = '';\n    };\n    OperationElement.prototype.addChild = function (child) {\n        if (child.name === 'operation') {\n            this.soapAction = child.$soapAction || '';\n            this.style = child.$style || '';\n            this.children.pop();\n        }\n    };\n    OperationElement.prototype.postProcess = function (definitions, tag) {\n        var children = this.children;\n        for (var i = 0, child; child = children[i]; i++) {\n            if (child.name !== 'input' && child.name !== 'output')\n                continue;\n            if (tag === 'binding') {\n                this[child.name] = child;\n                children.splice(i--, 1);\n                continue;\n            }\n            var messageName = splitQName(child.$message).name;\n            var message = definitions.messages[messageName];\n            message.postProcess(definitions);\n            if (message.element) {\n                definitions.messages[message.element.$name] = message;\n                this[child.name] = message.element;\n            }\n            else {\n                this[child.name] = message;\n            }\n            children.splice(i--, 1);\n        }\n        this.deleteFixedAttrs();\n    };\n    OperationElement.prototype.description = function (definitions, xmlns) {\n        if (definitions === void 0) { definitions = {}; }\n        var inputDesc = this.input ? this.input.description(definitions) : null;\n        var outputDesc = this.output ? this.output.description(definitions) : null;\n        return {\n            input: inputDesc && inputDesc[Object.keys(inputDesc)[0]],\n            output: outputDesc && outputDesc[Object.keys(outputDesc)[0]]\n        };\n    };\n    return OperationElement;\n}(Element));\nvar PortTypeElement = (function (_super) {\n    __extends(PortTypeElement, _super);\n    function PortTypeElement(nsName, attrs, options) {\n        if (attrs === void 0) { attrs = {}; }\n        if (options === void 0) { options = {}; }\n        var _this = _super.call(this, nsName, attrs, options) || this;\n        _this.init();\n        return _this;\n    }\n    PortTypeElement.prototype.init = function () {\n        this.methods = {};\n    };\n    PortTypeElement.prototype.postProcess = function (definitions) {\n        var children = this.children;\n        if (typeof children === 'undefined')\n            return;\n        for (var i = 0, child; child = children[i]; i++) {\n            if (child.name !== 'operation')\n                continue;\n            child.postProcess(definitions, 'portType');\n            this.methods[child.$name] = child;\n            children.splice(i--, 1);\n        }\n        delete this.$name;\n        this.deleteFixedAttrs();\n    };\n    PortTypeElement.prototype.description = function (definitions, xmlns) {\n        if (definitions === void 0) { definitions = {}; }\n        var methods = {};\n        for (var name in this.methods) {\n            var method = this.methods[name];\n            methods[name] = method.description(definitions);\n        }\n        return methods;\n    };\n    return PortTypeElement;\n}(Element));\nvar BindingElement = (function (_super) {\n    __extends(BindingElement, _super);\n    function BindingElement(nsName, attrs, options) {\n        if (attrs === void 0) { attrs = {}; }\n        if (options === void 0) { options = {}; }\n        var _this = _super.call(this, nsName, attrs, options) || this;\n        _this.init();\n        return _this;\n    }\n    BindingElement.prototype.init = function () {\n        this.transport = '';\n        this.style = '';\n        this.methods = {};\n    };\n    BindingElement.prototype.addChild = function (child) {\n        if (child.name === 'binding') {\n            this.transport = child.$transport;\n            this.style = child.$style;\n            this.children.pop();\n        }\n    };\n    BindingElement.prototype.postProcess = function (definitions) {\n        var type = splitQName(this.$type).name, portType = definitions.portTypes[type], style = this.style, children = this.children;\n        if (portType) {\n            portType.postProcess(definitions);\n            this.methods = portType.methods;\n            for (var i = 0, child; child = children[i]; i++) {\n                if (child.name !== 'operation')\n                    continue;\n                child.postProcess(definitions, 'binding');\n                children.splice(i--, 1);\n                child.style || (child.style = style);\n                var method = this.methods[child.$name];\n                if (method) {\n                    method.style = child.style;\n                    method.soapAction = child.soapAction;\n                    method.inputSoap = child.input || null;\n                    method.outputSoap = child.output || null;\n                    method.inputSoap && method.inputSoap.deleteFixedAttrs();\n                    method.outputSoap && method.outputSoap.deleteFixedAttrs();\n                }\n            }\n        }\n        delete this.$name;\n        delete this.$type;\n        this.deleteFixedAttrs();\n    };\n    BindingElement.prototype.description = function (definitions, xmlns) {\n        if (definitions === void 0) { definitions = {}; }\n        var methods = {};\n        for (var name in this.methods) {\n            var method = this.methods[name];\n            methods[name] = method.description(definitions);\n        }\n        return methods;\n    };\n    return BindingElement;\n}(Element));\nvar PortElement = (function (_super) {\n    __extends(PortElement, _super);\n    function PortElement(nsName, attrs, options) {\n        if (attrs === void 0) { attrs = {}; }\n        if (options === void 0) { options = {}; }\n        var _this = _super.call(this, nsName, attrs, options) || this;\n        _this.init();\n        return _this;\n    }\n    PortElement.prototype.init = function () {\n        this.location = null;\n    };\n    PortElement.prototype.addChild = function (child) {\n        if (child.name === 'address' && typeof (child.$location) !== 'undefined') {\n            this.location = child.$location;\n        }\n    };\n    return PortElement;\n}(Element));\nvar ServiceElement = (function (_super) {\n    __extends(ServiceElement, _super);\n    function ServiceElement(nsName, attrs, options) {\n        if (attrs === void 0) { attrs = {}; }\n        if (options === void 0) { options = {}; }\n        var _this = _super.call(this, nsName, attrs, options) || this;\n        _this.init();\n        return _this;\n    }\n    ServiceElement.prototype.init = function () {\n        this.ports = {};\n    };\n    ServiceElement.prototype.postProcess = function (definitions) {\n        var children = this.children, bindings = definitions.bindings;\n        if (children && children.length > 0) {\n            for (var i = 0, child; child = children[i]; i++) {\n                if (child.name !== 'port')\n                    continue;\n                var bindingName = splitQName(child.$binding).name;\n                var binding = bindings[bindingName];\n                if (binding) {\n                    binding.postProcess(definitions);\n                    this.ports[child.$name] = {\n                        location: child.location,\n                        binding: binding\n                    };\n                    children.splice(i--, 1);\n                }\n            }\n        }\n        delete this.$name;\n        this.deleteFixedAttrs();\n    };\n    ServiceElement.prototype.description = function (definitions, xmlns) {\n        if (definitions === void 0) { definitions = {}; }\n        var ports = {};\n        for (var name in this.ports) {\n            var port = this.ports[name];\n            ports[name] = port.binding.description(definitions);\n        }\n        return ports;\n    };\n    return ServiceElement;\n}(Element));\nvar DefinitionsElement = (function (_super) {\n    __extends(DefinitionsElement, _super);\n    function DefinitionsElement(nsName, attrs, options) {\n        if (attrs === void 0) { attrs = {}; }\n        if (options === void 0) { options = {}; }\n        var _this = _super.call(this, nsName, attrs, options) || this;\n        _this.init();\n        return _this;\n    }\n    DefinitionsElement.prototype.init = function () {\n        if (this.name !== 'definitions')\n            this.unexpected(this.nsName);\n        this.messages = {};\n        this.portTypes = {};\n        this.bindings = {};\n        this.services = {};\n        this.schemas = {};\n    };\n    DefinitionsElement.prototype.addChild = function (child) {\n        if (child instanceof TypesElement) {\n            // Merge types.schemas into definitions.schemas\n            _.merge(this.schemas, child.schemas);\n        }\n        else if (child instanceof MessageElement) {\n            this.messages[child.$name] = child;\n        }\n        else if (child.name === 'import') {\n            this.schemas[child.$namespace] = new SchemaElement(child.$namespace, {});\n            this.schemas[child.$namespace].addChild(child);\n        }\n        else if (child instanceof PortTypeElement) {\n            this.portTypes[child.$name] = child;\n        }\n        else if (child instanceof BindingElement) {\n            if (child.transport === 'http://schemas.xmlsoap.org/soap/http' ||\n                child.transport === 'http://www.w3.org/2003/05/soap/bindings/HTTP/')\n                this.bindings[child.$name] = child;\n        }\n        else if (child instanceof ServiceElement) {\n            this.services[child.$name] = child;\n        }\n        else if (child instanceof DocumentationElement) {\n        }\n        this.children.pop();\n    };\n    return DefinitionsElement;\n}(Element));\nvar DocumentationElement = (function (_super) {\n    __extends(DocumentationElement, _super);\n    function DocumentationElement(nsName, attrs, options) {\n        if (attrs === void 0) { attrs = {}; }\n        if (options === void 0) { options = {}; }\n        var _this = _super.call(this, nsName, attrs, options) || this;\n        _this.init();\n        return _this;\n    }\n    return DocumentationElement;\n}(Element));\nvar ElementTypeMap = {\n    types: [TypesElement, 'schema documentation'],\n    schema: [SchemaElement, 'element complexType simpleType include import'],\n    element: [ElementElement, 'annotation complexType'],\n    any: [AnyElement, ''],\n    simpleType: [SimpleTypeElement, 'restriction'],\n    restriction: [RestrictionElement, 'enumeration all choice sequence'],\n    extension: [ExtensionElement, 'all sequence choice'],\n    choice: [ChoiceElement, 'element sequence choice any'],\n    // group: [GroupElement, 'element group'],\n    enumeration: [EnumerationElement, ''],\n    complexType: [ComplexTypeElement, 'annotation sequence all complexContent simpleContent choice'],\n    complexContent: [ComplexContentElement, 'extension'],\n    simpleContent: [SimpleContentElement, 'extension'],\n    sequence: [SequenceElement, 'element sequence choice any'],\n    all: [AllElement, 'element choice'],\n    service: [ServiceElement, 'port documentation'],\n    port: [PortElement, 'address documentation'],\n    binding: [BindingElement, '_binding SecuritySpec operation documentation'],\n    portType: [PortTypeElement, 'operation documentation'],\n    message: [MessageElement, 'part documentation'],\n    operation: [OperationElement, 'documentation input output fault _operation'],\n    input: [InputElement, 'body SecuritySpecRef documentation header'],\n    output: [OutputElement, 'body SecuritySpecRef documentation header'],\n    fault: [Element, '_fault documentation'],\n    definitions: [DefinitionsElement, 'types message portType binding service import documentation'],\n    documentation: [DocumentationElement, '']\n};\n//# sourceMappingURL=wsdl.js.map","import { findPrefix } from './utils';\nimport * as assert from 'assert';\nimport * as uuid from 'uuid';\nvar Client = (function () {\n    function Client(wsdl, endpoint, options) {\n        this.httpHeaders = {};\n        options = options || {};\n        this.wsdl = wsdl;\n        this._initializeOptions(options);\n        this._initializeServices(endpoint);\n    }\n    Client.prototype.addSoapHeader = function (soapHeader, name, namespace, xmlns) {\n        if (!this.soapHeaders) {\n            this.soapHeaders = [];\n        }\n        if (typeof soapHeader === 'object') {\n            soapHeader = this.wsdl.objectToXML(soapHeader, name, namespace, xmlns, true);\n        }\n        return this.soapHeaders.push(soapHeader) - 1;\n    };\n    Client.prototype.changeSoapHeader = function (index, soapHeader, name, namespace, xmlns) {\n        if (!this.soapHeaders) {\n            this.soapHeaders = [];\n        }\n        if (typeof soapHeader === 'object') {\n            soapHeader = this.wsdl.objectToXML(soapHeader, name, namespace, xmlns, true);\n        }\n        this.soapHeaders[index] = soapHeader;\n    };\n    Client.prototype.getSoapHeaders = function () {\n        return this.soapHeaders;\n    };\n    Client.prototype.clearSoapHeaders = function () {\n        this.soapHeaders = null;\n    };\n    Client.prototype.addHttpHeader = function (name, value) {\n        if (!this.httpHeaders) {\n            this.httpHeaders = {};\n        }\n        this.httpHeaders[name] = value;\n    };\n    Client.prototype.getHttpHeaders = function () {\n        return this.httpHeaders;\n    };\n    Client.prototype.clearHttpHeaders = function () {\n        this.httpHeaders = {};\n    };\n    Client.prototype.addBodyAttribute = function (bodyAttribute, name, namespace, xmlns) {\n        if (!this.bodyAttributes) {\n            this.bodyAttributes = [];\n        }\n        if (typeof bodyAttribute === 'object') {\n            var composition = '';\n            Object.getOwnPropertyNames(bodyAttribute).forEach(function (prop, idx, array) {\n                composition += ' ' + prop + '=\"' + bodyAttribute[prop] + '\"';\n            });\n            bodyAttribute = composition;\n        }\n        if (bodyAttribute.substr(0, 1) !== ' ')\n            bodyAttribute = ' ' + bodyAttribute;\n        this.bodyAttributes.push(bodyAttribute);\n    };\n    Client.prototype.getBodyAttributes = function () {\n        return this.bodyAttributes;\n    };\n    Client.prototype.clearBodyAttributes = function () {\n        this.bodyAttributes = null;\n    };\n    Client.prototype.setEndpoint = function (endpoint) {\n        this.endpoint = endpoint;\n        this._initializeServices(endpoint);\n    };\n    Client.prototype.describe = function () {\n        var types = this.wsdl.definitions.types;\n        return this.wsdl.describeServices();\n    };\n    Client.prototype.setSecurity = function (security) {\n        this.security = security;\n    };\n    Client.prototype.setSOAPAction = function (SOAPAction) {\n        this.SOAPAction = SOAPAction;\n    };\n    Client.prototype.parseResponseBody = function (body) {\n        try {\n            return this.wsdl.xmlToObject(body);\n        }\n        catch (error) {\n            throw new Error(\"Error parsing body\" + error);\n        }\n    };\n    Client.prototype._initializeServices = function (endpoint) {\n        var definitions = this.wsdl.definitions, services = definitions.services;\n        for (var name in services) {\n            this[name] = this._defineService(services[name], endpoint);\n        }\n    };\n    Client.prototype._initializeOptions = function (options) {\n        if (options === void 0) { options = {}; }\n        this.streamAllowed = options.stream;\n        this.wsdl.options.attributesKey = options.attributesKey || 'attributes';\n        this.wsdl.options.envelopeKey = options.envelopeKey || 'soap';\n        if (options.ignoredNamespaces !== undefined) {\n            if (options.ignoredNamespaces.override !== undefined) {\n                if (options.ignoredNamespaces.override === true) {\n                    if (options.ignoredNamespaces.namespaces !== undefined) {\n                        this.wsdl.options.ignoredNamespaces = options.ignoredNamespaces.namespaces;\n                    }\n                }\n            }\n        }\n        if (options.overrideRootElement !== undefined) {\n            this.wsdl.options.overrideRootElement = options.overrideRootElement;\n        }\n        this.wsdl.options.forceSoap12Headers = !!options.forceSoap12Headers;\n    };\n    Client.prototype._defineService = function (service, endpoint) {\n        var ports = service.ports, def = {};\n        for (var name in ports) {\n            def[name] = this._definePort(ports[name], endpoint ? endpoint : ports[name].location);\n        }\n        return def;\n    };\n    Client.prototype._definePort = function (port, endpoint) {\n        var location = endpoint, binding = port.binding, methods = binding.methods, def = {};\n        for (var name in methods) {\n            def[name] = this._defineMethod(methods[name], location);\n            this[name] = def[name];\n        }\n        return def;\n    };\n    Client.prototype._defineMethod = function (method, location) {\n        var self = this;\n        var temp;\n        return function (args, callback, options, extraHeaders) {\n            if (typeof args === 'function') {\n                callback = args;\n                args = {};\n            }\n            else if (typeof options === 'function') {\n                temp = callback;\n                callback = options;\n                options = temp;\n            }\n            else if (typeof extraHeaders === 'function') {\n                temp = callback;\n                callback = extraHeaders;\n                extraHeaders = options;\n                options = temp;\n            }\n            // return self._invoke(method, args, location);\n            self._invoke(method, args, location, function (error, result, raw, soapHeader) {\n                callback(error, result, raw, soapHeader);\n            }, options, extraHeaders);\n        };\n    };\n    Client.prototype._invoke = function (method, args, location, callback, options, extraHeaders) {\n        var self = this, name = method.$name, input = method.input, output = method.output, style = method.style, defs = this.wsdl.definitions, envelopeKey = this.wsdl.options.envelopeKey, ns = defs.$targetNamespace, encoding = '', message = '', xml = null, req = null, soapAction, alias = findPrefix(defs.xmlns, ns), headers = {}, xmlnsSoap = \"xmlns:\" + envelopeKey + \"=\\\"http://schemas.xmlsoap.org/soap/envelope/\\\"\";\n        headers[\"Content-Type\"] = \"text/xml; charset=utf-8\";\n        if (this.wsdl.options.forceSoap12Headers) {\n            headers[\"Content-Type\"] = \"application/soap+xml; charset=utf-8\";\n            xmlnsSoap = \"xmlns:\" + envelopeKey + \"=\\\"http://www.w3.org/2003/05/soap-envelope\\\"\";\n        }\n        if (this.SOAPAction) {\n            soapAction = this.SOAPAction;\n        }\n        else if (method.soapAction !== undefined && method.soapAction !== null) {\n            soapAction = method.soapAction;\n        }\n        else {\n            soapAction = ((ns.lastIndexOf(\"/\") !== ns.length - 1) ? ns + \"/\" : ns) + name;\n        }\n        if (!this.wsdl.options.forceSoap12Headers) {\n            headers[\"SOAPAction\"] = '\"' + soapAction + '\"';\n        }\n        options = options || {};\n        //Add extra headers\n        for (var header in this.httpHeaders) {\n            headers[header] = this.httpHeaders[header];\n        }\n        for (var attr in extraHeaders) {\n            headers[attr] = extraHeaders[attr];\n        }\n        // Allow the security object to add headers\n        if (this.security && this.security.addHeaders) {\n            headers = self.security.addHeaders(headers);\n        }\n        if (this.security && this.security.addOptions)\n            self.security.addOptions(options);\n        if ((style === 'rpc') && ((input.parts || input.name === \"element\") || args === null)) {\n            assert.ok(!style || style === 'rpc', 'invalid message definition for document style binding');\n            message = self.wsdl.objectToRpcXML(name, args, alias, ns, (input.name !== \"element\"));\n            (method.inputSoap === 'encoded') && (encoding = 'soap:encodingStyle=\"http://schemas.xmlsoap.org/soap/encoding/\" ');\n        }\n        else {\n            assert.ok(!style || style === 'document', 'invalid message definition for rpc style binding');\n            // pass `input.$lookupType` if `input.$type` could not be found\n            message = self.wsdl.objectToDocumentXML(input.$name, args, input.targetNSAlias, input.targetNamespace, (input.$type || input.$lookupType));\n        }\n        xml = \"<?xml version=\\\"1.0\\\" encoding=\\\"utf-8\\\"?>\" +\n            \"<\" + envelopeKey + \":Envelope \" +\n            xmlnsSoap + \" \" +\n            \"xmlns:xsi=\\\"http://www.w3.org/2001/XMLSchema-instance\\\" \" +\n            encoding +\n            this.wsdl.xmlnsInEnvelope + '>' +\n            ((self.soapHeaders || self.security) ?\n                (\"<\" + envelopeKey + \":Header>\" +\n                    (self.soapHeaders ? self.soapHeaders.join(\"\\n\") : \"\") +\n                    (self.security && !self.security.postProcess ? self.security.toXML() : \"\") +\n                    \"</\" + envelopeKey + \":Header>\")\n                :\n                    '') +\n            \"<\" + envelopeKey + \":Body\" +\n            (this.bodyAttributes ? this.bodyAttributes.join(' ') : '') +\n            (this.security && this.security.postProcess ? ' Id=\"_0\"' : '') +\n            \">\" +\n            message +\n            \"</\" + envelopeKey + \":Body>\" +\n            \"</\" + envelopeKey + \":Envelope>\";\n        if (self.security && self.security.postProcess) {\n            xml = self.security.postProcess(xml, envelopeKey);\n        }\n        this.lastMessage = message;\n        this.lastRequest = xml;\n        this.lastEndpoint = location;\n        var eid = options.exchangeId || uuid.v4();\n        var tryJSONparse = function (body) {\n            try {\n                return JSON.parse(body);\n            }\n            catch (err) {\n                return undefined;\n            }\n        };\n        callback(null, location, headers, xml);\n    };\n    return Client;\n}());\nexport { Client };\n//# sourceMappingURL=client.js.map","import { openWsdl } from './wsdl';\nimport { Client } from \"./client\";\nexport function createSoapClient(wsdlDef, options) {\n    if (options === void 0) { options = {}; }\n    return openWsdl(wsdlDef, options)\n        .then(function (wsdl) {\n        return new Client(wsdl);\n    })\n        .catch(function (err) { throw new Error(err); });\n}\n//# sourceMappingURL=soap.js.map","import { Injectable } from '@angular/core';\nimport 'rxjs/add/operator/map';\nimport { createSoapClient } from \"./libts/soap\";\nvar SOAPService = (function () {\n    function SOAPService() {\n    }\n    SOAPService.prototype.createClient = function (wsdlDef, options) {\n        if (options === void 0) { options = {}; }\n        return createSoapClient(wsdlDef, options);\n    };\n    return SOAPService;\n}());\nexport { SOAPService };\nSOAPService.decorators = [\n    { type: Injectable },\n];\n/** @nocollapse */\nSOAPService.ctorParameters = function () { return []; };\n//# sourceMappingURL=soap.service.js.map","import { NgModule } from '@angular/core';\nimport { HttpModule } from '@angular/http';\nimport { SOAPService } from './soap.service';\nvar NgxSoapModule = (function () {\n    function NgxSoapModule() {\n    }\n    return NgxSoapModule;\n}());\nexport { NgxSoapModule };\nNgxSoapModule.decorators = [\n    { type: NgModule, args: [{\n                imports: [HttpModule],\n                providers: [SOAPService]\n            },] },\n];\n/** @nocollapse */\nNgxSoapModule.ctorParameters = function () { return []; };\n//# sourceMappingURL=ngx-soap.module.js.map","import * as _ from 'lodash';\nvar BasicAuthSecurity = (function () {\n    function BasicAuthSecurity(username, password, defaults) {\n        this._username = username;\n        this._password = password;\n        this.defaults = {};\n        _.merge(this.defaults, defaults);\n    }\n    BasicAuthSecurity.prototype.addHeaders = function (headers) {\n        headers['Authorization'] = 'Basic ' + btoa(this._username + ':' + this._password);\n        return headers;\n    };\n    BasicAuthSecurity.prototype.toXML = function () {\n        return '';\n    };\n    BasicAuthSecurity.prototype.addOptions = function (options) {\n        _.merge(options, this.defaults);\n    };\n    return BasicAuthSecurity;\n}());\nexport { BasicAuthSecurity };\n//# sourceMappingURL=basic-auth-security.js.map"],"names":["this","sax.parser","_.isPlainObject","sax.createStream","_.assign","_.defaultsDeep","_.merge","assert.ok","uuid.v4","Injectable","NgModule","HttpModule"],"mappings":"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"}